(()=>{"use strict";var e={710:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(510),a=i.Router();a.get("/getPrincipleInformation",(function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return n.cookie("user",e.user),[2]}))}))})),a.put("/updateClientinformation",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updatePRINCIPLE(e.body,e.user.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=a},403:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(85),a=t(896),s=i.Router();s.post("/createStore",(function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,u.default.createStore(e.body)];case 1:return t.sent(),n.json("hello"),[2]}}))}))})),s.post("/insertInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.insertInventoryItem(e.body)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),s.get("/getInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.cookies.user.id,[4,u.default.getInventoryItems(t)];case 1:return r=o.sent(),n.json(r),[2]}}))}))})),s.delete("/deleteInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.deleteInventoryItem(e.body)];case 1:return t=r.sent(),n.json(t.affectedRows),[2]}}))}))})),s.put("/updateInventoryItem",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updateInventoryItem(e.body.values,e.body.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),s.get("/getInventoryItemsForDailyChecklist/:id",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.params.id,[4,u.default.getInventoryChecklistItems(t)];case 1:return r=o.sent(),n.json(r),[2]}}))}))})),s.post("/insertInventoryChecklistItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return e.body.order_quantity=e.body.stock_level-e.body.in_stock,e.body.order_quantity<=0&&(e.body.order_quantity=0),delete e.body.stock_level,[4,u.default.insertInventoryChecklistItems(e.body)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),s.post("/verify_associate_pin",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return[4,a.default.associateVerification(e.body.pin,e.body.id)];case 1:return t=o.sent(),r=t[0],t[1],r?n.json(!0):r||n.json(!1),[2]}}))}))})),s.get("/inventory_reference_information",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.cookies.user.id,[4,u.default.getInventoryReference(t)];case 1:return r=o.sent(),console.log(r),n.json(r),[2]}}))}))})),s.delete("/deleteInventoryAuditItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.deleteInventoryAuditItem(e.body)];case 1:return t=r.sent(),n.json(t.affectedRows),[2]}}))}))})),s.put("/updateInventoryAuditItem",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updateInventoryAuditItem(e.body.values,e.body.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=s},583:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(96),a=t(344),s=t(789),c=i.Router();c.post("/registration",(function(e,n,t){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,(0,s.checkAccount)(e.body.email)];case 1:return 0===(r=o.sent()).length?t():r.length>0&&n.json(!0),[2]}}))}))}),(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,u.genSaltSync(Number(process.env.SALT_ROUND))];case 1:return t=o.sent(),[4,u.hashSync(e.body.confirm_password,t)];case 2:return r=o.sent(),delete e.body.confirm_password,i=a.sign({user_name:e.body.email,email:e.body.email},process.env.BEARER_PRIVATE),e.body.password=r,e.body.access_token=i,e.body.pin=Math.floor(999999*Math.random())+111111,[4,(0,s.registrationInformation)(e.body)];case 3:return o.sent(),n.json(!1),[2]}}))}))})),n.default=c},31:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(388),a=t(777),s=i.Router();s.post("/support_message",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,(0,a.MessageResponseFromHomePage)(e.body.first_name,[e.body.phone_number])];case 1:return r.sent(),[4,u.default.insertMessage(e.body)];case 2:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=s},777:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MessageResponseFromHomePage=n.MessagingResponse=void 0;var i=t(202);t(142).config();var u=i(process.env.TWILIO_SID,process.env.TWILIO_AUTHKEY);n.MessagingResponse=i.twiml.MessagingResponse,n.MessageResponseFromHomePage=function(e,n){var t=this;n.map((function(n){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,u.messages.create({body:"Dear ".concat(e.toLocaleUpperCase(),",Thank you for contacting Kcm Inc. Rest assured that our support team will promptly respond to your query within the next 48-72 hours. "),from:process.env.TWILIO_PHONE,shortenUrls:!0,to:n})];case 1:return t.sent(),[2]}}))}))}))}},522:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Query=n.mysqlAccess=void 0;var r=t(993);t(81),n.mysqlAccess=r.createPool({user:process.env.MYSQL_USER,password:process.env.MYSQL_PASSWORD,host:process.env.MYSQL_HOST,database:process.env.DB_NAME,port:3306,socketPath:process.env.INSTANCE_UNIX_SOCKET}),n.Query=function(e,t){return new Promise((function(r,o){n.mysqlAccess.query(e,t,(function(e,n){return e?o(e):r(n)}))}))}},789:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.checkAccount=n.registrationInformation=void 0;var i=t(522);n.registrationInformation=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Credentials.Principle_Login_Credentials SET ?",e)]}))}))},n.checkAccount=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials WHERE email = ?",[e])]}))}))}},510:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={getClientInformation:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials where id = ?",[e])]}))}))},updatePRINCIPLE:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Credentials.Principle_Login_Credentials SET ? WHERE id = ?",[e,n])]}))}))}}},85:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={createStore:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Store SET ?",e)]}))}))},selectStore:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Inventory.Store WHERE ?;",[e])]}))}))},insertInventoryItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Inventory_Items SET ?",e)]}))}))},getInventoryItems:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Inventory.Inventory_Items WHERE business_id = ?",[e])]}))}))},deleteInventoryItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("DELETE FROM Inventory.Inventory_Items WHERE ?",[e])]}))}))},updateInventoryItem:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Inventory.Inventory_Items SET ? WHERE id = ?",[e,n])]}))}))},getInventoryChecklistItems:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT id,category,stock_level,brand,supplier,description FROM Inventory.Inventory_Items WHERE business_id = ? ORDER BY category",[e])]}))}))},insertInventoryChecklistItems:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Inventory_checklist SET ?",e)]}))}))},getPhoneNumbers:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT phone_number,business_name FROM Credentials.Principle_Login_Credentials WHERE id = 80",[e])]}))}))},getInventoryReference:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT Inventory.Inventory_checklist.audit_reference_number, Inventory.Inventory_checklist.date_of_audit,Inventory.Inventory_checklist.in_stock,Inventory.Inventory_checklist.order_quantity,Inventory.Inventory_Items.supplier,Inventory.Inventory_Items.brand,Inventory.Inventory_Items.description,Inventory.Inventory_Items.category,Inventory.Inventory_Items.price,Inventory.Inventory_checklist.id,Inventory.Inventory_checklist.order_quantity FROM Inventory.Inventory_checklist INNER JOIN Inventory.Inventory_Items WHERE Inventory.Inventory_checklist.business_id = ? and Inventory.Inventory_checklist.inventory_item_id=Inventory.Inventory_Items.id ORDER BY Inventory.Inventory_checklist.date_of_audit",[e])]}))}))},deleteInventoryAuditItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("DELETE FROM Inventory.Inventory_checklist WHERE ?",[e])]}))}))},updateInventoryAuditItem:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Inventory.Inventory_checklist SET ? WHERE id = ?",[e,n])]}))}))}}},896:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={verifyInformation:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Login_Credentials WHERE email=?",[e])]}))}))},updateBearerToken:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Credentials.Login_Credentials SET ? WHERE email =? ",[e,n])]}))}))},associateVerification:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials WHERE pin = ? and id = ? ",[e,n])]}))}))}}},388:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={viewMessages:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,(0,i.Query)("select * from Communication.Messages")]}))}))},insertMessage:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Communication.Support SET ?",e)]}))}))}}},554:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),t(81),t(55);var r=t(511),o=t(598),i=t(522);r.use(new o.Strategy((function(e,n){i.mysqlAccess.query("SELECT * FROM Credentials.Login_Credentials Where access_token = ?",[e],(function(e,t){return e?n(e):t?t?n(null,t,{scope:"read"}):void 0:n(null,!1)}))})))},154:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}s((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81),t(55);var u=t(511),a=t(55),s=t(789),c=t(96),l=i.Router();u.use(new a.Strategy({usernameField:"email",passwordField:"password"},(function(e,n,t){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,(0,s.checkAccount)(e)];case 1:return(r=o.sent()[0])&&c.compareSync(n,r.password)?[2,t(null,r)]:[2,t(null,!1,{message:"Invalid credentials.\n"})]}}))}))}))),u.serializeUser((function(e,n){delete e.date_time,delete e.password,delete e.terms_of_service,delete e.privacy_policy,process.nextTick((function(){return n(null,{id:e.id,first_name:e.first_name,last_name:e.last_name,business_name:e.business_name,phone_number:e.phone_number,email:e.email,account_type:e.account_type,access_token:e.access_token})}))})),u.deserializeUser((function(e,n){process.nextTick((function(){return n(null,e)}))})),l.post("/login_verification",u.authenticate("local"),(function(e,n){e.user?e.logIn(e.user,(function(t){return n.cookie("user",e.user).json(e.user)})):e.user||n.sendStatus(401)})),n.default=l},96:e=>{e.exports=require("bcrypt")},986:e=>{e.exports=require("body-parser")},501:e=>{e.exports=require("cookie-parser")},582:e=>{e.exports=require("cors")},142:e=>{e.exports=require("dotenv")},81:e=>{e.exports=require("dotenv/config")},860:e=>{e.exports=require("express")},508:e=>{e.exports=require("express-session")},344:e=>{e.exports=require("jsonwebtoken")},993:e=>{e.exports=require("mysql2")},511:e=>{e.exports=require("passport")},598:e=>{e.exports=require("passport-http-bearer")},55:e=>{e.exports=require("passport-local")},202:e=>{e.exports=require("twilio")},17:e=>{e.exports=require("path")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}(()=>{var e=t(860),n=t(582),r=t(17),o=t(986),i=t(511);t(81);var u=t(31),a=t(710),s=t(403),c=t(583),l=t(154),f=t(508);t(554);var d=t(501),v=e();v.use(e.json()),v.use(o.urlencoded({extended:!0})),v.use(n()),v.use((function(e,n,t){n.set("Access-Control-Allow-Origin","*"),n.set("Access-Control-Allow-Headers","*"),t()})),v.set("trust proxy",!0),v.use(d()),v.use(f({secret:"keyboard cat",resave:!1,saveUninitialized:!1,cookie:{secure:!1}})),v.use(i.initialize()),v.use(i.session()),v.use(l.default),v.use("/",e.static("public")),v.use("/signup",e.static("public")),v.use("/store",e.static("public")),v.use("/support",e.static("public")),v.use("/support",e.static("public")),v.use("/principle/",(function(e,n,t){e.user?t():n.redirect("/signup")}),e.static("public")),v.use(c.default),v.use(u.default),v.use(a.default),v.use(s.default),v.get("*",(function(e,n){n.sendFile(r.join(__dirname,"../public","index.html"))})),v.listen(8080,(function(){console.log("Server listening on port ".concat(8080,"..."))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFJOUIsSUFBSSxJQUFLckgsRUFBUWdLLE9BQVEsV0FDN0JiLEVBQUk5QixJQUFJLFVBQVdySCxFQUFRZ0ssT0FBUSxXQUNuQ2IsRUFBSTlCLElBQUksU0FBVXJILEVBQVFnSyxPQUFRLFdBQ2xDYixFQUFJOUIsSUFBSSxXQUFZckgsRUFBUWdLLE9BQVEsV0FDcENiLEVBQUk5QixJQUFJLFdBQVlySCxFQUFRZ0ssT0FBUSxXQUNwQ2IsRUFBSTlCLElBQUksZUFiYSxTQUFDbEgsRUFBS0MsRUFBS29DLEdBQ3pCckMsRUFBSUcsS0FHUGtDLElBRkFwQyxFQUFJNkosU0FBUyxVQUlqQixHQU9xQ2pLLEVBQVFnSyxPQUFPLFdBS3BEYixFQUFJOUIsSUFBSSxXQUVSOEIsRUFBSTlCLElBQUksV0FDUjhCLEVBQUk5QixJQUFJLFdBQ1I4QixFQUFJOUIsSUFBSSxXQUlSOEIsRUFBSWpKLElBQUksS0FBSyxTQUFDQyxFQUFLQyxHQUNqQkEsRUFBSThKLFNBQVNDLEVBQUtDLEtBQUtDLFVBQVcsWUFBYSxjQUNqRCxJQUNBbEIsRUFBSW1CLE9BQU8sTUFBTSxXQUNmbEksUUFBUUMsSUFBSSxtQ0FBNEIsS0FBSSxPQUM5QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvQ2xpZW50UG9ydGFsL0NsaWVudFBlcnNvbmFsRGV0YWlscy50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9DbGllbnRQb3J0YWwvSW52ZW50b3J5Um91dGVzLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL0hvbWVwYWdlL3JlZ2lzdHJhdGlvbi50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9NRVNTQUdFX1NVUFBPUlQvc3VwcG9ydC50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9Qcm9ncmFtQ29udHJvbEZsb3cvU01TL3NlbmRfc21zLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvQ29uZWN0aW9uLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvTG9naW4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9QcmluY2lwbGVDbGllbnRQb3J0YWwvQ2xpZW50UGVyc29uYWxEZXRhaWxzLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvUHJpbmNpcGxlQ2xpZW50UG9ydGFsL0ludmVudG9yeS50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1NlY3VyaXR5L1ZlcmlmaWNhdGlvbi50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1N1cHBvcnRfRGF0YWJhc2UudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvU2VjdXJpdHkvQmVhcmVyLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1NlY3VyaXR5L2xvY2FsU3RyYXRlZ3kudHMiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiYmNyeXB0XCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiYm9keS1wYXJzZXJcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJjb29raWUtcGFyc2VyXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiY29yc1wiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcImRvdGVudlwiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcImRvdGVudi9jb25maWdcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJleHByZXNzXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiZXhwcmVzcy1zZXNzaW9uXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwianNvbndlYnRva2VuXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwibXlzcWwyXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwicGFzc3BvcnRcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJwYXNzcG9ydC1odHRwLWJlYXJlclwiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcInBhc3Nwb3J0LWxvY2FsXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwidHdpbGlvXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCBjbGllbnRfYWRtaW5fcXVlcnkgZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9QcmluY2lwbGVDbGllbnRQb3J0YWwvQ2xpZW50UGVyc29uYWxEZXRhaWxzJztcbmltcG9ydCB7Y2hlY2tBY2NvdW50fSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL0xvZ2luLydcblxuXG5cblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXG5cbnJvdXRlci5nZXQoJy9nZXRQcmluY2lwbGVJbmZvcm1hdGlvbicsIGFzeW5jIChyZXE6YW55LCByZXMpID0+IHtcbiAgICByZXMuY29va2llKCd1c2VyJyxyZXEudXNlcilcblxuXG59KTtcblxucm91dGVyLnB1dCgnL3VwZGF0ZUNsaWVudGluZm9ybWF0aW9uJywgYXN5bmMgKHJlcTphbnksIHJlcykgPT4ge1xuICAgIGNvbnN0IG5ld1JlcGx5ID0gYXdhaXQgY2xpZW50X2FkbWluX3F1ZXJ5LnVwZGF0ZVBSSU5DSVBMRShyZXEuYm9keSxyZXEudXNlci5pZClcbiAgICByZXMuanNvbihuZXdSZXBseSlcbn0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgXG5cbiIsImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCBzdG9yZXMgZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9QcmluY2lwbGVDbGllbnRQb3J0YWwvSW52ZW50b3J5JztcbmltcG9ydCB2ZXJpZnkgZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9TZWN1cml0eS9WZXJpZmljYXRpb24nXG5cblxuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxuXG5yb3V0ZXIucG9zdCgnL2NyZWF0ZVN0b3JlJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IGF3YWl0IHN0b3Jlcy5jcmVhdGVTdG9yZShyZXEuYm9keSlcbiAgICByZXMuanNvbignaGVsbG8nKVxufSk7XG5cblxucm91dGVyLnBvc3QoJy9pbnNlcnRJbnZlbnRvcnlJdGVtcycsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudF9zdG9yZSA9IGF3YWl0IHN0b3Jlcy5pbnNlcnRJbnZlbnRvcnlJdGVtKHJlcS5ib2R5KVxuICAgIHJlcy5qc29uKGN1cnJlbnRfc3RvcmUpXG5cbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvZ2V0SW52ZW50b3J5SXRlbXMnLCBhc3luYyAocmVxOiBhbnksIHJlcykgPT4ge1xuICAgbGV0IGJ1c2luZXNzX2lkID0gcmVxLmNvb2tpZXMudXNlci5pZFxuICAgIGNvbnN0IHJlc3VsdEludmVudG9yeSA9IGF3YWl0IHN0b3Jlcy5nZXRJbnZlbnRvcnlJdGVtcyhidXNpbmVzc19pZClcbiAgICBcblxuICAgIHJlcy5qc29uKHJlc3VsdEludmVudG9yeSlcbn0pO1xuXG5cbnJvdXRlci5kZWxldGUoJy9kZWxldGVJbnZlbnRvcnlJdGVtcycsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudF9zdG9yZTogYW55ID0gYXdhaXQgc3RvcmVzLmRlbGV0ZUludmVudG9yeUl0ZW0ocmVxLmJvZHkpXG4gICAgcmVzLmpzb24oY3VycmVudF9zdG9yZS5hZmZlY3RlZFJvd3MpXG5cbn0pO1xuXG5yb3V0ZXIucHV0KCcvdXBkYXRlSW52ZW50b3J5SXRlbScsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gICAgY29uc3QgY3VycmVudF9zdG9yZTogYW55ID0gYXdhaXQgc3RvcmVzLnVwZGF0ZUludmVudG9yeUl0ZW0ocmVxLmJvZHkudmFsdWVzLCByZXEuYm9keS5pZClcbiAgICByZXMuanNvbihjdXJyZW50X3N0b3JlKVxuXG59KTtcblxuXG5cblxuLy9DaGVja2xpc3QgUm91dGVzXG5cbnJvdXRlci5nZXQoJy9nZXRJbnZlbnRvcnlJdGVtc0ZvckRhaWx5Q2hlY2tsaXN0LzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGJ1c2luZXNzX2lkID0gcmVxLnBhcmFtcy5pZFxuICAgIGNvbnN0IG5ld1JlcGx5ID0gYXdhaXQgc3RvcmVzLmdldEludmVudG9yeUNoZWNrbGlzdEl0ZW1zKGJ1c2luZXNzX2lkKVxuICAgIHJlcy5qc29uKG5ld1JlcGx5KVxuXG59KTtcblxucm91dGVyLnBvc3QoJy9pbnNlcnRJbnZlbnRvcnlDaGVja2xpc3RJdGVtcycsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gICAgcmVxLmJvZHkub3JkZXJfcXVhbnRpdHkgPSByZXEuYm9keS5zdG9ja19sZXZlbCAtIHJlcS5ib2R5LmluX3N0b2NrXG5cbiAgICBpZiAocmVxLmJvZHkub3JkZXJfcXVhbnRpdHkgPD0gMCkge1xuICAgICAgICByZXEuYm9keS5vcmRlcl9xdWFudGl0eSA9IDBcbiAgICB9XG4gICAgZGVsZXRlIHJlcS5ib2R5LnN0b2NrX2xldmVsXG4gICAgY29uc3QgbmV3UmVwbHkgPSBhd2FpdCBzdG9yZXMuaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMocmVxLmJvZHkpXG4gICAgcmVzLmpzb24obmV3UmVwbHkpXG59KTtcblxucm91dGVyLnBvc3QoJy92ZXJpZnlfYXNzb2NpYXRlX3BpbicsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gIFxuICAgICAgICBjb25zdCBbbmV3UmVwbHksZXJyb3JdID0gYXdhaXQgdmVyaWZ5LmFzc29jaWF0ZVZlcmlmaWNhdGlvbihyZXEuYm9keS5waW4scmVxLmJvZHkuaWQpXG5cbiAgICAgICAgaWYgKG5ld1JlcGx5KXtcbiAgICAgICAgICAgIHJlcy5qc29uKHRydWUpXG4gICAgICAgIH1lbHNlIGlmICghbmV3UmVwbHkpe1xuICAgICAgICAgICAgcmVzLmpzb24oZmFsc2UpXG4gICAgICAgIH1cbiAgICBcblxufSk7XG5cbnJvdXRlci5nZXQoJy9pbnZlbnRvcnlfcmVmZXJlbmNlX2luZm9ybWF0aW9uJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBsZXQgaWQgPSByZXEuY29va2llcy51c2VyLmlkXG4gICAgY29uc3QgcmVwbHkgPSBhd2FpdCBzdG9yZXMuZ2V0SW52ZW50b3J5UmVmZXJlbmNlKGlkKVxuICAgIGNvbnNvbGUubG9nKHJlcGx5KVxuICAgIHJlcy5qc29uKHJlcGx5KVxufSk7XG5cbnJvdXRlci5kZWxldGUoJy9kZWxldGVJbnZlbnRvcnlBdWRpdEl0ZW1zJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50X3N0b3JlOiBhbnkgPSBhd2FpdCBzdG9yZXMuZGVsZXRlSW52ZW50b3J5QXVkaXRJdGVtKHJlcS5ib2R5KVxuICAgIHJlcy5qc29uKGN1cnJlbnRfc3RvcmUuYWZmZWN0ZWRSb3dzKVxuXG59KTtcblxuXG5cbnJvdXRlci5wdXQoJy91cGRhdGVJbnZlbnRvcnlBdWRpdEl0ZW0nLCBhc3luYyAocmVxOiBhbnksIHJlcykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRfc3RvcmU6IGFueSA9IGF3YWl0IHN0b3Jlcy51cGRhdGVJbnZlbnRvcnlBdWRpdEl0ZW0ocmVxLmJvZHkudmFsdWVzLCByZXEuYm9keS5pZClcbiAgICByZXMuanNvbihjdXJyZW50X3N0b3JlKVxuXG59KTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgIiwiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuXG5pbXBvcnQgJ2RvdGVudi9jb25maWcnXG5pbXBvcnQgZGF0YWJhc2VfcXVlcnkgZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9TdXBwb3J0X0RhdGFiYXNlJztcbmltcG9ydCAqIGFzIGJjcnlwdCBmcm9tICdiY3J5cHQnXG5pbXBvcnQgKiBhcyBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHsgcmVnaXN0cmF0aW9uSW5mb3JtYXRpb24sIGNoZWNrQWNjb3VudCB9IGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvTG9naW4nXG5pbXBvcnQgeyBVbmRlcmxpbmVPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxuY29uc3QgY2hlY2tDcmVkZW50aWFscyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIFxuICBjb25zdCBjaGVja19EQl9hZ2FpbnN0X2VtYWlsOiBhbnlbXSA9IGF3YWl0IGNoZWNrQWNjb3VudChyZXEuYm9keS5lbWFpbClcbiAgaWYgKGNoZWNrX0RCX2FnYWluc3RfZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgbmV4dCgpXG4gIH0gZWxzZSBpZihjaGVja19EQl9hZ2FpbnN0X2VtYWlsLmxlbmd0aCA+IDApIHtcbiAgICByZXMuanNvbih0cnVlKVxuICB9XG59XG5cblxucm91dGVyLnBvc3QoJy9yZWdpc3RyYXRpb24nLGNoZWNrQ3JlZGVudGlhbHMsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHRTeW5jKE51bWJlcihwcm9jZXNzLmVudi5TQUxUX1JPVU5EKSk7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkuY29uZmlybV9wYXNzd29yZCwgc2FsdCk7XG4gIGRlbGV0ZSByZXEuYm9keS5jb25maXJtX3Bhc3N3b3JkXG4gIHZhciB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcl9uYW1lOiByZXEuYm9keS5lbWFpbCwgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0sIHByb2Nlc3MuZW52LkJFQVJFUl9QUklWQVRFKTtcbiAgcmVxLmJvZHkucGFzc3dvcmQgPSBoYXNoXG4gIHJlcS5ib2R5LmFjY2Vzc190b2tlbiA9IHRva2VuXG4gIHJlcS5ib2R5LnBpbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5OTk5OSkgKyAxMTExMTFcbiAgY29uc3Qgc2VuZFRleHRSZXBseSA9IGF3YWl0IHJlZ2lzdHJhdGlvbkluZm9ybWF0aW9uKHJlcS5ib2R5KVxuICByZXMuanNvbihmYWxzZSlcbn0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5cbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCBkYXRhYmFzZV9xdWVyeSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1N1cHBvcnRfRGF0YWJhc2UnO1xuaW1wb3J0IHsgTWVzc2FnZVJlc3BvbnNlRnJvbUhvbWVQYWdlIH0gZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NNUy9zZW5kX3Ntcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxucm91dGVyLnBvc3QoJy9zdXBwb3J0X21lc3NhZ2UnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2VuZFRleHRSZXBseSA9IGF3YWl0IE1lc3NhZ2VSZXNwb25zZUZyb21Ib21lUGFnZShyZXEuYm9keS5maXJzdF9uYW1lLCBbcmVxLmJvZHkucGhvbmVfbnVtYmVyXSlcbiAgY29uc3QgbmV3UmVwbHkgPSBhd2FpdCBkYXRhYmFzZV9xdWVyeS5pbnNlcnRNZXNzYWdlKHJlcS5ib2R5KVxuICByZXMuanNvbihuZXdSZXBseSlcbn0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgIiwiXG5pbXBvcnQgKiBhcyBUd2lsaW8gZnJvbSAndHdpbGlvJ1xuaW1wb3J0ICogYXMgZG90ZW52IGZyb20gJ2RvdGVudidcbmltcG9ydCAqIGFzIGRheWpzIGZyb20gJ2RheWpzJ1xuZG90ZW52LmNvbmZpZygpXG5cblxuXG4vLyBUd2lsaW8gQ29udHJvbCBhbmQgQWNjZXNzIENyZWRlbnRpYWwgXG5jb25zdCBhY2NvdW50U2lkID0gcHJvY2Vzcy5lbnYuVFdJTElPX1NJRDtcbmNvbnN0IGF1dGhUb2tlbiA9IHByb2Nlc3MuZW52LlRXSUxJT19BVVRIS0VZO1xuY29uc3Qgc21zID0gVHdpbGlvKGFjY291bnRTaWQsIGF1dGhUb2tlbilcblxuZXhwb3J0IGNvbnN0IHsgTWVzc2FnaW5nUmVzcG9uc2UgfSA9IFR3aWxpby50d2ltbCBcblxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2VSZXNwb25zZUZyb21Ib21lUGFnZShuYW1lOnN0cmluZyx0bz86c3RyaW5nW118IGFueSkge1xuICAgIFxuICAgIHRvLm1hcChhc3luYyAoaSkgPT4ge1xuICAgICAgICBhd2FpdCBzbXMubWVzc2FnZXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHk6IGBEZWFyICR7bmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpfSxUaGFuayB5b3UgZm9yIGNvbnRhY3RpbmcgS2NtIEluYy4gUmVzdCBhc3N1cmVkIHRoYXQgb3VyIHN1cHBvcnQgdGVhbSB3aWxsIHByb21wdGx5IHJlc3BvbmQgdG8geW91ciBxdWVyeSB3aXRoaW4gdGhlIG5leHQgNDgtNzIgaG91cnMuIGAsXG4gICAgICAgICAgICBmcm9tOiBwcm9jZXNzLmVudi5UV0lMSU9fUEhPTkUsXG4gICAgICAgICAgICBzaG9ydGVuVXJsczogdHJ1ZSxcbiAgICAgICAgICAgIHRvOiBpXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICB9KTtcbn1cblxuXG4vLyBleHBvcnQgZnVuY3Rpb24gSW52ZW50b3J5UmVzcG9uY2VNZXNzYWdlKHJlZmVyZW5jZV9udW1iZXI6YW55LHRvPzpzdHJpbmdbXXwgYW55KSB7XG4gICAgXG4vLyAgICAgdG8ubWFwKGFzeW5jIChpKSA9PiB7XG4vLyAgICAgICAgIGF3YWl0IHNtcy5tZXNzYWdlcy5jcmVhdGUoe1xuLy8gICAgICAgICAgICAgYm9keTogYEhlbGxvLFRoaXMgaXMgYSBtZXNzYWdlIGZyb20gS0NNIEluYy4gV2Ugd2FudGVkIHRvIGluZm9ybSB5b3UgdGhhdCBhbiBpbnZlbnRvcnkgcmVjb3JkaW5nIGZyb20gJHtkYXlqcygpLmZvcm1hdCgnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQScpfSBoYXMgYmVlbiBzdWJtaXR0ZWQgYW5kIGl0cyByZWZlcmVuY2UgbnVtYmVyIGlzICR7cmVmZXJlbmNlX251bWJlcn0uIFRoYW5rIHlvdS5gLFxuLy8gICAgICAgICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuVFdJTElPX1BIT05FLFxuLy8gICAgICAgICAgICAgc2hvcnRlblVybHM6IHRydWUsXG4vLyAgICAgICAgICAgICB0bzogaVxuLy8gICAgICAgICB9KTtcbiAgICAgICAgXG4vLyAgICAgfSk7XG4vLyB9XG5cblxuXG5cblxuXG4iLCJpbXBvcnQgKiBhcyBteXNxbCBmcm9tICdteXNxbDInO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcblxuXG5cblxuXG5leHBvcnQgY29uc3QgbXlzcWxBY2Nlc3MgPSBteXNxbC5jcmVhdGVQb29sKHtcbiAgICB1c2VyOnByb2Nlc3MuZW52Lk1ZU1FMX1VTRVIsXG4gICAgcGFzc3dvcmQ6cHJvY2Vzcy5lbnYuTVlTUUxfUEFTU1dPUkQsXG4gICAgaG9zdDpwcm9jZXNzLmVudi5NWVNRTF9IT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgIHBvcnQ6MzMwNixcbiAgICBzb2NrZXRQYXRoOnByb2Nlc3MuZW52LklOU1RBTkNFX1VOSVhfU09DS0VUXG59KVxuXG5leHBvcnQgY29uc3QgUXVlcnkgPSAocXVlcnk6c3RyaW5nLHZhbHVlcz86QXJyYXk8c3RyaW5nfG51bWJlcj4pPT57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEFycmF5PGFueT4+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgbXlzcWxBY2Nlc3MucXVlcnkocXVlcnksdmFsdWVzLChlcnIscmVzdWx0czphbnkpID0+e1xuICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9KVxuICAgIH0pXG59O1xuXG5cblxuIiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuIGV4cG9ydCBsZXQgcmVnaXN0cmF0aW9uSW5mb3JtYXRpb24gPSBhc3luYyAodmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgU0VUID8nLCB2YWx1ZXMpO1xuIGV4cG9ydCBsZXQgY2hlY2tBY2NvdW50ID0gYXN5bmMgKGVtYWlsOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ3JlZGVudGlhbHMuUHJpbmNpcGxlX0xvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIGVtYWlsID0gPycsW2VtYWlsXSlcblxuXG5cblxuXG5cbiIsImltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIi4uLy4uL0NvbmVjdGlvblwiO1xuXG5cbmNvbnN0IGdldENsaWVudEluZm9ybWF0aW9uID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgd2hlcmUgaWQgPSA/JyxbaWRdKTtcbmNvbnN0IHVwZGF0ZVBSSU5DSVBMRSA9IGFzeW5jIChpbmZvLGlkKT0+UXVlcnkoJ1VQREFURSBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgU0VUID8gV0hFUkUgaWQgPSA/JyxbaW5mbyxpZF0pXG5cbi8vIGNvbnN0IHNpbmdsZUNoaXJwID0gYXN5bmMgKGlkOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ2hpcnBzIFdIRVJFIGlkID0gPycsW2lkXSk7XG4vLyBjb25zdCBkZWxldGVNZXNzYWdlcyA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiBRdWVyeSgnREVMRVRFIEZST00gY29udGFjdCBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbi8vIGNvbnN0IGluc2VydENMSUVOVCA9IGFzeW5jICguLi52YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEtDTV9JTkMuY2xpZW50UmVnaXN0cmF0aW9uIFNFVCA/JywgdmFsdWVzKTtcbi8vIGNvbnN0IGluc2VydEluc3RpdHV0aW9uID0gYXN5bmMgKHZhbHVlczogYW55KSA9PiBRdWVyeSgnSU5TRVJUIElOVE8gTnV0cmllbnRtYXAuaW5zdGl0dXRpb24gU0VUID8nLCB2YWx1ZXMpO1xuXG4vLyBjb25zdCB1cGRhdGVNZXNzYWdlcyA9IGFzeW5jIChuZXdDb250ZW50OiBhbnksIGlkOiBhbnkpID0+IFF1ZXJ5KCdVUERBVEUgY29udGFjdCBTRVQgPyBXSEVSRSBpZCA9ID8nLCBbbmV3Q29udGVudCwgaWRdKVxuLy8gY29uc3QgYWxsVXNlcnMgPSBhc3luYyAoKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBVc2VycycpO1xuLy8gY29uc3QgaW5zZXJ0VXNlcnMgPSBhc3luYyh1c2VyIDphbnkgKT0+UXVlcnkoJ0lOU0VSVCBJTlRPIGNsaWVudHMgU0VUID8nICxbdXNlcl0pO1xuLy8gY29uc3QgaW5zZXJ0UGh5c2ljYWwgPSBhc3luYyhwaHlzaWNhbCA6YW55LGNsaWVudGlkOm51bWJlciApPT5RdWVyeSgnSU5TRVJUIElOVE8gY2xpZW50X2xpZmVzdHlsZSBTRVQgPycgLFtwaHlzaWNhbF0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBnZXRDbGllbnRJbmZvcm1hdGlvbixcbiAgICB1cGRhdGVQUklOQ0lQTEUsXG59IiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuLy8gQ3JlYXRlIFN0b3JlIFxuY29uc3QgY3JlYXRlU3RvcmUgPSBhc3luYyAoc3RvcmU6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEludmVudG9yeS5TdG9yZSBTRVQgPycsIHN0b3JlKTtcbmNvbnN0IHNlbGVjdFN0b3JlID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBJbnZlbnRvcnkuU3RvcmUgV0hFUkUgPzsnLCBbaWRdKTtcblxuXG4vL0NyZWF0ZSBhbmQgQWRkIEludmVudG9yeSB0byBQcmluY2lwbGUgRGF0YWJhc2VcbmNvbnN0IGluc2VydEludmVudG9yeUl0ZW0gPSBhc3luYyAodmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFNFVCA/JywgdmFsdWVzKTtcbmNvbnN0IGdldEludmVudG9yeUl0ZW1zID0gYXN5bmMgKGJ1c2luZXNzX2lkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFdIRVJFIGJ1c2luZXNzX2lkID0gPycsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgZGVsZXRlSW52ZW50b3J5SXRlbSA9IGFzeW5jIChpZCkgPT4gUXVlcnkoJ0RFTEVURSBGUk9NIEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMgV0hFUkUgPycsIFtpZF0pO1xuY29uc3QgdXBkYXRlSW52ZW50b3J5SXRlbSA9IGFzeW5jICh2YWx1ZXMsaWQpID0+IFF1ZXJ5KCdVUERBVEUgSW52ZW50b3J5LkludmVudG9yeV9JdGVtcyBTRVQgPyBXSEVSRSBpZCA9ID8nLFt2YWx1ZXMsaWRdKTtcbmNvbnN0IGdldEludmVudG9yeUNoZWNrbGlzdEl0ZW1zID0gYXN5bmMoYnVzaW5lc3NfaWQpID0+IFF1ZXJ5KCdTRUxFQ1QgaWQsY2F0ZWdvcnksc3RvY2tfbGV2ZWwsYnJhbmQsc3VwcGxpZXIsZGVzY3JpcHRpb24gRlJPTSBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFdIRVJFIGJ1c2luZXNzX2lkID0gPyBPUkRFUiBCWSBjYXRlZ29yeScsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMgPSBhc3luYyAoLi4udmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdCBTRVQgPycsIHZhbHVlcyk7XG5jb25zdCBnZXRQaG9uZU51bWJlcnMgPSBhc3luYyhidXNpbmVzc19pZCkgPT4gUXVlcnkoJ1NFTEVDVCBwaG9uZV9udW1iZXIsYnVzaW5lc3NfbmFtZSBGUk9NIENyZWRlbnRpYWxzLlByaW5jaXBsZV9Mb2dpbl9DcmVkZW50aWFscyBXSEVSRSBpZCA9IDgwJywgW2J1c2luZXNzX2lkXSk7XG5jb25zdCBnZXRJbnZlbnRvcnlSZWZlcmVuY2UgPSBhc3luYyhidXNpbmVzc19pZCkgPT4gUXVlcnkoJ1NFTEVDVCBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5hdWRpdF9yZWZlcmVuY2VfbnVtYmVyLCBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5kYXRlX29mX2F1ZGl0LEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0LmluX3N0b2NrLEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0Lm9yZGVyX3F1YW50aXR5LEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuc3VwcGxpZXIsSW52ZW50b3J5LkludmVudG9yeV9JdGVtcy5icmFuZCxJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zLmRlc2NyaXB0aW9uLEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuY2F0ZWdvcnksSW52ZW50b3J5LkludmVudG9yeV9JdGVtcy5wcmljZSxJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5pZCxJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5vcmRlcl9xdWFudGl0eSBGUk9NIEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0IElOTkVSIEpPSU4gSW52ZW50b3J5LkludmVudG9yeV9JdGVtcyBXSEVSRSBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5idXNpbmVzc19pZCA9ID8gYW5kIEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0LmludmVudG9yeV9pdGVtX2lkPUludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuaWQgT1JERVIgQlkgSW52ZW50b3J5LkludmVudG9yeV9jaGVja2xpc3QuZGF0ZV9vZl9hdWRpdCcsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgZGVsZXRlSW52ZW50b3J5QXVkaXRJdGVtID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnREVMRVRFIEZST00gSW52ZW50b3J5LkludmVudG9yeV9jaGVja2xpc3QgV0hFUkUgPycsIFtpZF0pO1xuY29uc3QgdXBkYXRlSW52ZW50b3J5QXVkaXRJdGVtID0gYXN5bmMgKHZhbHVlcyxpZCkgPT4gUXVlcnkoJ1VQREFURSBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdCBTRVQgPyBXSEVSRSBpZCA9ID8nLFt2YWx1ZXMsaWRdKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY3JlYXRlU3RvcmUsXG4gICAgc2VsZWN0U3RvcmUsXG4gICAgaW5zZXJ0SW52ZW50b3J5SXRlbSxcbiAgICBnZXRJbnZlbnRvcnlJdGVtcyxcbiAgICBkZWxldGVJbnZlbnRvcnlJdGVtLFxuICAgIHVwZGF0ZUludmVudG9yeUl0ZW0sXG4gICAgZ2V0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMsXG4gICAgaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMsXG4gICAgZ2V0UGhvbmVOdW1iZXJzLFxuICAgIGdldEludmVudG9yeVJlZmVyZW5jZSxcbiAgICBkZWxldGVJbnZlbnRvcnlBdWRpdEl0ZW0sXG4gICAgdXBkYXRlSW52ZW50b3J5QXVkaXRJdGVtXG59IiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuY29uc3QgdmVyaWZ5SW5mb3JtYXRpb24gPSBhc3luYyAoZW1haWxzOiBhbnkpID0+IFF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIENyZWRlbnRpYWxzLkxvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIGVtYWlsPT8nLFtlbWFpbHNdKTtcbmNvbnN0IHVwZGF0ZUJlYXJlclRva2VuID0gYXN5bmMgKGJlYXJlcl90b2tlbixpZCk9PlF1ZXJ5KCdVUERBVEUgQ3JlZGVudGlhbHMuTG9naW5fQ3JlZGVudGlhbHMgU0VUID8gV0hFUkUgZW1haWwgPT8gJyxbYmVhcmVyX3Rva2VuLGlkXSlcbmNvbnN0IGFzc29jaWF0ZVZlcmlmaWNhdGlvbiA9IGFzeW5jKHBpbixpZCkgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ3JlZGVudGlhbHMuUHJpbmNpcGxlX0xvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIHBpbiA9ID8gYW5kIGlkID0gPyAnLFtwaW4saWRdKVxuXG4vLyBjb25zdCBzaW5nbGVDaGlycCA9IGFzeW5jIChpZDpzdHJpbmcpID0+IFF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIENoaXJwcyBXSEVSRSBpZCA9ID8nLFtpZF0pO1xuLy8gY29uc3QgZGVsZXRlTWVzc2FnZXMgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4gUXVlcnkoJ0RFTEVURSBGUk9NIGNvbnRhY3QgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4vLyBjb25zdCBpbnNlcnRDTElFTlQgPSBhc3luYyAoLi4udmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBLQ01fSU5DLmNsaWVudFJlZ2lzdHJhdGlvbiBTRVQgPycsIHZhbHVlcyk7XG4vLyBjb25zdCBpbnNlcnRJbnN0aXR1dGlvbiA9IGFzeW5jICh2YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIE51dHJpZW50bWFwLmluc3RpdHV0aW9uIFNFVCA/JywgdmFsdWVzKTtcblxuLy8gY29uc3QgdXBkYXRlTWVzc2FnZXMgPSBhc3luYyAobmV3Q29udGVudDogYW55LCBpZDogYW55KSA9PiBRdWVyeSgnVVBEQVRFIGNvbnRhY3QgU0VUID8gV0hFUkUgaWQgPSA/JywgW25ld0NvbnRlbnQsIGlkXSlcbi8vIGNvbnN0IGFsbFVzZXJzID0gYXN5bmMgKCkgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gVXNlcnMnKTtcbi8vIGNvbnN0IGluc2VydFVzZXJzID0gYXN5bmModXNlciA6YW55ICk9PlF1ZXJ5KCdJTlNFUlQgSU5UTyBjbGllbnRzIFNFVCA/JyAsW3VzZXJdKTtcblxuLy8gY29uc3QgaW5zZXJ0UGh5c2ljYWwgPSBhc3luYyhwaHlzaWNhbCA6YW55LGNsaWVudGlkOm51bWJlciApPT5RdWVyeSgnSU5TRVJUIElOVE8gY2xpZW50X2xpZmVzdHlsZSBTRVQgPycgLFtwaHlzaWNhbF0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlJbmZvcm1hdGlvbixcbiAgICB1cGRhdGVCZWFyZXJUb2tlbixcbiAgICBhc3NvY2lhdGVWZXJpZmljYXRpb25cblxufSIsImltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIi4uL0NvbmVjdGlvblwiO1xuXG5cbmNvbnN0IHZpZXdNZXNzYWdlcyA9IGFzeW5jICgpID0+IFF1ZXJ5KCdzZWxlY3QgKiBmcm9tIENvbW11bmljYXRpb24uTWVzc2FnZXMnKTtcbmNvbnN0IGluc2VydE1lc3NhZ2U9IGFzeW5jICh2YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIENvbW11bmljYXRpb24uU3VwcG9ydCBTRVQgPycsIHZhbHVlcyk7XG5cbi8vIGNvbnN0IHNpbmdsZUNoaXJwID0gYXN5bmMgKGlkOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ2hpcnBzIFdIRVJFIGlkID0gPycsW2lkXSk7XG4vLyBjb25zdCBkZWxldGVNZXNzYWdlcyA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiBRdWVyeSgnREVMRVRFIEZST00gY29udGFjdCBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbi8vIGNvbnN0IGluc2VydENMSUVOVCA9IGFzeW5jICguLi52YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEtDTV9JTkMuY2xpZW50UmVnaXN0cmF0aW9uIFNFVCA/JywgdmFsdWVzKTtcbi8vIGNvbnN0IGluc2VydEluc3RpdHV0aW9uID0gYXN5bmMgKHZhbHVlczogYW55KSA9PiBRdWVyeSgnSU5TRVJUIElOVE8gTnV0cmllbnRtYXAuaW5zdGl0dXRpb24gU0VUID8nLCB2YWx1ZXMpO1xuXG4vLyBjb25zdCB1cGRhdGVNZXNzYWdlcyA9IGFzeW5jIChuZXdDb250ZW50OiBhbnksIGlkOiBhbnkpID0+IFF1ZXJ5KCdVUERBVEUgY29udGFjdCBTRVQgPyBXSEVSRSBpZCA9ID8nLCBbbmV3Q29udGVudCwgaWRdKVxuLy8gY29uc3QgYWxsVXNlcnMgPSBhc3luYyAoKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBVc2VycycpO1xuLy8gY29uc3QgaW5zZXJ0VXNlcnMgPSBhc3luYyh1c2VyIDphbnkgKT0+UXVlcnkoJ0lOU0VSVCBJTlRPIGNsaWVudHMgU0VUID8nICxbdXNlcl0pO1xuLy8gY29uc3QgaW5zZXJ0UGh5c2ljYWwgPSBhc3luYyhwaHlzaWNhbCA6YW55LGNsaWVudGlkOm51bWJlciApPT5RdWVyeSgnSU5TRVJUIElOVE8gY2xpZW50X2xpZmVzdHlsZSBTRVQgPycgLFtwaHlzaWNhbF0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2aWV3TWVzc2FnZXMsXG4gICAgaW5zZXJ0TWVzc2FnZVxuXG5cbn0iLCJcbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCAncGFzc3BvcnQtbG9jYWwnO1xuaW1wb3J0ICogYXMgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnXG5pbXBvcnQge1N0cmF0ZWd5IGFzIEJlYXJlclN0cmF0ZWd5fSBmcm9tICdwYXNzcG9ydC1odHRwLWJlYXJlcic7XG5pbXBvcnQgKiBhcyBkYiBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1ByaW5jaXBsZUNsaWVudFBvcnRhbC9CZWFyZXJUb2tlbkRldGFpbHMnXG5pbXBvcnQgeyBteXNxbEFjY2VzcyB9IGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvQ29uZWN0aW9uJztcblxuXG5cblxuXG5cbnBhc3Nwb3J0LnVzZShuZXcgQmVhcmVyU3RyYXRlZ3koXG4gICAgICh0b2tlbiwgZG9uZSk9PiB7XG4gICAgICAgIG15c3FsQWNjZXNzLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIENyZWRlbnRpYWxzLkxvZ2luX0NyZWRlbnRpYWxzIFdoZXJlIGFjY2Vzc190b2tlbiA9ID9gLCBbdG9rZW5dLCAoZXJyb3IsIHVzZXIpID0+IHtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7IHJldHVybiBkb25lKGVycm9yKTsgfVxuICAgICAgICAgICAgaWYgKCF1c2VyKSB7IHJldHVybiBkb25lKG51bGwsIGZhbHNlKTsgfVxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIsIHsgc2NvcGU6ICdyZWFkJyB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG4gICAgfVxuKSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5cbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCAncGFzc3BvcnQtbG9jYWwnO1xuaW1wb3J0ICogYXMgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnXG5pbXBvcnQgeyBTdHJhdGVneSBhcyBMb2NhbFN0cmF0ZWd5IH0gZnJvbSAncGFzc3BvcnQtbG9jYWwnXG5pbXBvcnQgeyBjaGVja0FjY291bnQgfSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL0xvZ2luL2luZGV4J1xuaW1wb3J0ICogYXMgYmNyeXB0IGZyb20gJ2JjcnlwdCdcblxuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnBhc3Nwb3J0LnVzZShuZXcgTG9jYWxTdHJhdGVneSh7XG4gIHVzZXJuYW1lRmllbGQ6ICdlbWFpbCcsXG4gIHBhc3N3b3JkRmllbGQ6ICdwYXNzd29yZCcsXG59LCBhc3luYyBmdW5jdGlvbiB2ZXJpZnkoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgZG9uZTogYW55KSB7XG4gIGNvbnN0IFt1c2VyXSA9IGF3YWl0IGNoZWNrQWNjb3VudChlbWFpbClcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHsgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxzLlxcblwiIH0pO1xuICB9XG4gIGlmICghYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xuICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7IG1lc3NhZ2U6IFwiSW52YWxpZCBjcmVkZW50aWFscy5cXG5cIiB9KTtcbiAgfVxuICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcblxufVxuKSk7XG5cbnBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoKHVzZXI6IGFueSwgZG9uZSkgPT4ge1xuICBkZWxldGUgdXNlci5kYXRlX3RpbWVcbiAgZGVsZXRlIHVzZXIucGFzc3dvcmRcbiAgZGVsZXRlIHVzZXIudGVybXNfb2Zfc2VydmljZVxuICBkZWxldGUgdXNlci5wcml2YWN5X3BvbGljeVxuICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICByZXR1cm4gZG9uZShudWxsLCB7XG4gICAgICBpZDogdXNlci5pZCxcbiAgICAgIGZpcnN0X25hbWU6IHVzZXIuZmlyc3RfbmFtZSxcbiAgICAgIGxhc3RfbmFtZTogdXNlci5sYXN0X25hbWUsXG4gICAgICBidXNpbmVzc19uYW1lOiB1c2VyLmJ1c2luZXNzX25hbWUsXG4gICAgICBwaG9uZV9udW1iZXI6IHVzZXIucGhvbmVfbnVtYmVyLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBhY2NvdW50X3R5cGU6IHVzZXIuYWNjb3VudF90eXBlLFxuICAgICAgYWNjZXNzX3Rva2VuOiB1c2VyLmFjY2Vzc190b2tlblxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5wYXNzcG9ydC5kZXNlcmlhbGl6ZVVzZXIoKHVzZXI6IGFueSwgZG9uZSkgPT4ge1xuICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICByZXR1cm4gZG9uZShudWxsLCB1c2VyKTtcbiAgfSk7XG59KTtcblxuXG5yb3V0ZXIucG9zdCgnL2xvZ2luX3ZlcmlmaWNhdGlvbicsIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwnKSwgKHJlcTogYW55LCByZXMpID0+IHtcbiAgaWYgKHJlcS51c2VyKSB7XG4gICAgcmVxLmxvZ0luKHJlcS51c2VyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuY29va2llKCd1c2VyJyxyZXEudXNlcikuanNvbihyZXEudXNlcik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIXJlcS51c2VyKSB7XG4gICAgXG4gICAgcmVzLnNlbmRTdGF0dXMoNDAxKVxuICB9XG59KTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG5cblxuXG5cblxuXG5cblxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmNyeXB0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkb3RlbnZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZG90ZW52L2NvbmZpZ1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3Mtc2Vzc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibXlzcWwyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0LWh0dHAtYmVhcmVyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0LWxvY2FsXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInR3aWxpb1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5pbXBvcnQgKiBhcyBjb3JzIGZyb20gJ2NvcnMnXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgKiBhcyBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xuaW1wb3J0ICogYXMgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnXG5pbXBvcnQgJ2RvdGVudi9jb25maWcnXG4vLyBpbXBvcnQgSG9tZXBhZ2VTZXJ2ZXIgZnJvbSAnLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL0hvbWVwYWdlX1F1ZXJ5Jztcbi8vIGltcG9ydCBDbGllbnRQb3J0YWwgZnJvbSAnLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1ByaW5jaXBsZUNsaWVudFBvcnRhbC9DbGllbnRQZXJzb25hbERldGFpbHMnO1xuLy8gaW1wb3J0IHsgTWVzc2FnaW5nUmVzcG9uc2UsIHNlbmRSZXBseSB9IGZyb20gJy4vUHJvZ3JhbUNvbnRyb2xGbG93L1NNUy9zZW5kX3Ntcyc7XG4vLyBpbXBvcnQgJy4vUHJvZ3JhbUNvbnRyb2xGbG93L1BBWU1FTlRTL2F1dGhvcml6ZV9jYXJkJztcbmltcG9ydCBzdXBwb3J0IGZyb20gJy4vTUVTU0FHRV9TVVBQT1JUL3N1cHBvcnQnXG5pbXBvcnQgY2xpZW50IGZyb20gJy4vQ2xpZW50UG9ydGFsL0NsaWVudFBlcnNvbmFsRGV0YWlscydcbi8vIGltcG9ydCBiaWxsaW5nIGZyb20gJy4vQ2xpZW50UG9ydGFsL0NsaWVudEJpbGxpbmcnO1xuLy8gaW1wb3J0IG5vdGFyeSBmcm9tICcuL0NsaWVudFBvcnRhbC9DbGllbnRTZXJ2aWNlUmVxdWVzdCc7XG5pbXBvcnQgaW52ZW50b3J5IGZyb20gJy4vQ2xpZW50UG9ydGFsL0ludmVudG9yeVJvdXRlcyc7XG5cbmltcG9ydCByZWdpc3RyYXRpb24gZnJvbSAnLi9Ib21lcGFnZS9yZWdpc3RyYXRpb24nXG5pbXBvcnQgVVBTdHJhdGVneSBmcm9tICcuL1NlY3VyaXR5L2xvY2FsU3RyYXRlZ3knXG5pbXBvcnQgKiBhcyBzZXNzaW9uIGZyb20gJ2V4cHJlc3Mtc2Vzc2lvbidcbmltcG9ydCAnLi9TZWN1cml0eS9CZWFyZXInXG5cbmltcG9ydCAqIGFzIGNvb2tpZXBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJ1xuXG5cblxuY29uc3QgYXBwID0gZXhwcmVzcygpXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKVxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5hcHAudXNlKGNvcnMoKSlcbmFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJlcy5zZXQoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJylcbiAgcmVzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICcqJylcbiAgbmV4dCgpXG59KVxuYXBwLnNldCgndHJ1c3QgcHJveHknLCB0cnVlKVxuXG5hcHAudXNlKGNvb2tpZXBhcnNlcigpKVxuYXBwLnVzZShzZXNzaW9uKHtcbiAgc2VjcmV0OiAna2V5Ym9hcmQgY2F0JyxcbiAgcmVzYXZlOiBmYWxzZSxcbiAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICBjb29raWU6IHsgc2VjdXJlOiBmYWxzZSB9XG59KSk7XG5cblxuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuYXBwLnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpO1xuXG5cblxuYXBwLnVzZShVUFN0cmF0ZWd5KVxuY29uc3QgdmFsaWRhdGVVc2VyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmICghcmVxLnVzZXIpIHtcbiAgICByZXMucmVkaXJlY3QoJy9zaWdudXAnKVxuICB9IGVsc2Uge1xuICAgIG5leHQoKVxuICB9XG59XG5cbmFwcC51c2UoJy8nLCBleHByZXNzLnN0YXRpYyggJ3B1YmxpYycpKVxuYXBwLnVzZSgnL3NpZ251cCcsIGV4cHJlc3Muc3RhdGljKCAncHVibGljJykpXG5hcHAudXNlKCcvc3RvcmUnLCBleHByZXNzLnN0YXRpYyggJ3B1YmxpYycpKVxuYXBwLnVzZSgnL3N1cHBvcnQnLCBleHByZXNzLnN0YXRpYyggJ3B1YmxpYycpKVxuYXBwLnVzZSgnL3N1cHBvcnQnLCBleHByZXNzLnN0YXRpYyggJ3B1YmxpYycpKVxuYXBwLnVzZSgnL3ByaW5jaXBsZS8nLCB2YWxpZGF0ZVVzZXIsIGV4cHJlc3Muc3RhdGljKCdwdWJsaWMnKSlcblxuXG5cblxuYXBwLnVzZShyZWdpc3RyYXRpb24pXG5cbmFwcC51c2Uoc3VwcG9ydClcbmFwcC51c2UoY2xpZW50KVxuYXBwLnVzZShpbnZlbnRvcnkpXG5cblxuIFxuYXBwLmdldChcIipcIiwgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uL3B1YmxpY1wiLCBcImluZGV4Lmh0bWxcIikpO1xufSk7XG5hcHAubGlzdGVuKDgwODAsICgpID0+IHtcbiAgY29uc29sZS5sb2coYFNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCAkezgwODB9Li4uYClcbn0pXG5cblxuXG4iXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsInJlcSIsInJlcyIsImNvb2tpZSIsInVzZXIiLCJwdXQiLCJ1cGRhdGVQUklOQ0lQTEUiLCJib2R5IiwiaWQiLCJuZXdSZXBseSIsImpzb24iLCJwb3N0IiwiY3JlYXRlU3RvcmUiLCJpbnNlcnRJbnZlbnRvcnlJdGVtIiwiY3VycmVudF9zdG9yZSIsImJ1c2luZXNzX2lkIiwiY29va2llcyIsImdldEludmVudG9yeUl0ZW1zIiwicmVzdWx0SW52ZW50b3J5IiwiZGVsZXRlIiwiZGVsZXRlSW52ZW50b3J5SXRlbSIsImFmZmVjdGVkUm93cyIsInVwZGF0ZUludmVudG9yeUl0ZW0iLCJ2YWx1ZXMiLCJwYXJhbXMiLCJnZXRJbnZlbnRvcnlDaGVja2xpc3RJdGVtcyIsIm9yZGVyX3F1YW50aXR5Iiwic3RvY2tfbGV2ZWwiLCJpbl9zdG9jayIsImluc2VydEludmVudG9yeUNoZWNrbGlzdEl0ZW1zIiwiYXNzb2NpYXRlVmVyaWZpY2F0aW9uIiwicGluIiwiZ2V0SW52ZW50b3J5UmVmZXJlbmNlIiwicmVwbHkiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlSW52ZW50b3J5QXVkaXRJdGVtIiwidXBkYXRlSW52ZW50b3J5QXVkaXRJdGVtIiwibmV4dCIsImNoZWNrQWNjb3VudCIsImVtYWlsIiwiY2hlY2tfREJfYWdhaW5zdF9lbWFpbCIsImxlbmd0aCIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiTnVtYmVyIiwicHJvY2VzcyIsImVudiIsIlNBTFRfUk9VTkQiLCJzYWx0IiwiaGFzaFN5bmMiLCJjb25maXJtX3Bhc3N3b3JkIiwiaGFzaCIsInRva2VuIiwiand0Iiwic2lnbiIsInVzZXJfbmFtZSIsIkJFQVJFUl9QUklWQVRFIiwicGFzc3dvcmQiLCJhY2Nlc3NfdG9rZW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyZWdpc3RyYXRpb25JbmZvcm1hdGlvbiIsIk1lc3NhZ2VSZXNwb25zZUZyb21Ib21lUGFnZSIsImZpcnN0X25hbWUiLCJwaG9uZV9udW1iZXIiLCJpbnNlcnRNZXNzYWdlIiwiY29uZmlnIiwic21zIiwiVHdpbGlvIiwiVFdJTElPX1NJRCIsIlRXSUxJT19BVVRIS0VZIiwiTWVzc2FnaW5nUmVzcG9uc2UiLCJ0d2ltbCIsIm5hbWUiLCJ0byIsIm1hcCIsImkiLCJtZXNzYWdlcyIsImNyZWF0ZSIsInRvTG9jYWxlVXBwZXJDYXNlIiwiZnJvbSIsIlRXSUxJT19QSE9ORSIsInNob3J0ZW5VcmxzIiwibXlzcWxBY2Nlc3MiLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJNWVNRTF9VU0VSIiwiTVlTUUxfUEFTU1dPUkQiLCJob3N0IiwiTVlTUUxfSE9TVCIsImRhdGFiYXNlIiwiREJfTkFNRSIsInBvcnQiLCJzb2NrZXRQYXRoIiwiSU5TVEFOQ0VfVU5JWF9TT0NLRVQiLCJRdWVyeSIsInF1ZXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJyZXN1bHRzIiwiZ2V0Q2xpZW50SW5mb3JtYXRpb24iLCJpbmZvIiwic3RvcmUiLCJzZWxlY3RTdG9yZSIsImdldFBob25lTnVtYmVycyIsInZlcmlmeUluZm9ybWF0aW9uIiwiZW1haWxzIiwidXBkYXRlQmVhcmVyVG9rZW4iLCJiZWFyZXJfdG9rZW4iLCJ2aWV3TWVzc2FnZXMiLCJwYXNzcG9ydCIsInVzZSIsImRvbmUiLCJlcnJvciIsInNjb3BlIiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiLCJjb21wYXJlU3luYyIsIm1lc3NhZ2UiLCJzZXJpYWxpemVVc2VyIiwiZGF0ZV90aW1lIiwidGVybXNfb2Zfc2VydmljZSIsInByaXZhY3lfcG9saWN5IiwibmV4dFRpY2siLCJsYXN0X25hbWUiLCJidXNpbmVzc19uYW1lIiwiYWNjb3VudF90eXBlIiwiZGVzZXJpYWxpemVVc2VyIiwiYXV0aGVudGljYXRlIiwibG9nSW4iLCJzZW5kU3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImFwcCIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJjb3JzIiwic2V0IiwiY29va2llcGFyc2VyIiwic2Vzc2lvbiIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwic2VjdXJlIiwiaW5pdGlhbGl6ZSIsInN0YXRpYyIsInJlZGlyZWN0Iiwic2VuZEZpbGUiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiIn0=