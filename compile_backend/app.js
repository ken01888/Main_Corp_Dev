(()=>{"use strict";var e={710:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(510),a=i.Router();a.get("/getPrincipleInformation",(function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return n.cookie("user",e.user),[2]}))}))})),a.put("/updateClientinformation",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updatePRINCIPLE(e.body,e.user.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=a},403:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(85),a=t(896),c=i.Router();c.post("/createStore",(function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,u.default.createStore(e.body)];case 1:return t.sent(),n.json("hello"),[2]}}))}))})),c.post("/insertInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.insertInventoryItem(e.body)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),c.get("/getInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.cookies.user.id,[4,u.default.getInventoryItems(t)];case 1:return r=o.sent(),n.json(r),[2]}}))}))})),c.delete("/deleteInventoryItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.deleteInventoryItem(e.body)];case 1:return t=r.sent(),n.json(t.affectedRows),[2]}}))}))})),c.put("/updateInventoryItem",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updateInventoryItem(e.body.values,e.body.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),c.get("/getInventoryItemsForDailyChecklist/:id",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.params.id,[4,u.default.getInventoryChecklistItems(t)];case 1:return r=o.sent(),n.json(r),[2]}}))}))})),c.post("/insertInventoryChecklistItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return e.body.order_quantity=e.body.recommended_stock_level-e.body.in_stock,e.body.order_quantity<=0&&(e.body.order_quantity=0),delete e.body.recommended_stock_level,[4,u.default.insertInventoryChecklistItems(e.body)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),c.post("/verify_associate_pin",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return[4,a.default.associateVerification(e.body.pin,e.body.id)];case 1:return t=o.sent(),r=t[0],t[1],r?n.json(!0):r||n.json(!1),[2]}}))}))})),c.get("/inventory_reference_information",(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return t=e.cookies.user.id,[4,u.default.getInventoryReference(t)];case 1:return r=o.sent(),console.log(r),n.json(r),[2]}}))}))})),c.delete("/deleteInventoryAuditItems",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.deleteInventoryAuditItem(e.body)];case 1:return t=r.sent(),n.json(t.affectedRows),[2]}}))}))})),c.put("/updateInventoryAuditItem",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,u.default.updateInventoryAuditItem(e.body.values,e.body.id)];case 1:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=c},583:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(96),a=t(344),c=t(789),s=i.Router();s.post("/registration",(function(e,n,t){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,(0,c.checkAccount)(e.body.email)];case 1:return 0===(r=o.sent()).length?t():r.length>0&&n.json(!0),[2]}}))}))}),(function(e,n){return r(void 0,void 0,void 0,(function(){var t,r,i;return o(this,(function(o){switch(o.label){case 0:return[4,u.genSaltSync(Number(process.env.SALT_ROUND))];case 1:return t=o.sent(),[4,u.hashSync(e.body.confirm_password,t)];case 2:return r=o.sent(),delete e.body.confirm_password,i=a.sign({user_name:e.body.email,email:e.body.email},process.env.BEARER_PRIVATE),e.body.password=r,e.body.access_token=i,e.body.pin=Math.floor(999999*Math.random())+111111,[4,(0,c.registrationInformation)(e.body)];case 3:return o.sent(),n.json(!1),[2]}}))}))})),n.default=s},31:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81);var u=t(388),a=t(777),c=i.Router();c.post("/support_message",(function(e,n){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return[4,(0,a.MessageResponseFromHomePage)(e.body.first_name,[e.body.phone_number])];case 1:return r.sent(),[4,u.default.insertMessage(e.body)];case 2:return t=r.sent(),n.json(t),[2]}}))}))})),n.default=c},777:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MessageResponseFromHomePage=n.MessagingResponse=void 0;var i=t(202);t(142).config();var u=i(process.env.TWILIO_SID,process.env.TWILIO_AUTHKEY);n.MessagingResponse=i.twiml.MessagingResponse,n.MessageResponseFromHomePage=function(e,n){var t=this;n.map((function(n){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,u.messages.create({body:"Dear ".concat(e.toLocaleUpperCase(),",Thank you for contacting Kcm Inc. Rest assured that our support team will promptly respond to your query within the next 48-72 hours. "),from:process.env.TWILIO_PHONE,shortenUrls:!0,to:n})];case 1:return t.sent(),[2]}}))}))}))}},522:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Query=n.mysqlAccess=void 0;var r=t(993);t(81),n.mysqlAccess=r.createPool({user:process.env.MYSQL_USER,password:process.env.MYSQL_PASSWORD,host:process.env.MYSQL_HOST,database:process.env.DB_NAME,port:3306}),n.Query=function(e,t){return new Promise((function(r,o){n.mysqlAccess.query(e,t,(function(e,n){return e?o(e):r(n)}))}))}},789:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.checkAccount=n.registrationInformation=void 0;var i=t(522);n.registrationInformation=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Credentials.Principle_Login_Credentials SET ?",e)]}))}))},n.checkAccount=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials WHERE email = ?",[e])]}))}))}},510:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={getClientInformation:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials where id = ?",[e])]}))}))},updatePRINCIPLE:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Credentials.Principle_Login_Credentials SET ? WHERE id = ?",[e,n])]}))}))}}},85:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={createStore:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Store SET ?",e)]}))}))},selectStore:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Inventory.Store WHERE ?;",[e])]}))}))},insertInventoryItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Inventory_Items SET ?",e)]}))}))},getInventoryItems:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Inventory.Inventory_Items WHERE business_id = ?",[e])]}))}))},deleteInventoryItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("DELETE FROM Inventory.Inventory_Items WHERE ?",[e])]}))}))},updateInventoryItem:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Inventory.Inventory_Items SET ? WHERE id = ?",[e,n])]}))}))},getInventoryChecklistItems:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT id,category,recommended_stock_level,brand,supplier,description FROM Inventory.Inventory_Items WHERE business_id = ? ORDER BY category",[e])]}))}))},insertInventoryChecklistItems:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Inventory.Inventory_checklist SET ?",e)]}))}))},getPhoneNumbers:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT phone_number,business_name FROM Credentials.Principle_Login_Credentials WHERE id = 80",[e])]}))}))},getInventoryReference:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT Inventory.Inventory_checklist.audit_reference_number, Inventory.Inventory_checklist.date_of_audit,Inventory.Inventory_checklist.in_stock,Inventory.Inventory_checklist.order_quantity,Inventory.Inventory_Items.supplier,Inventory.Inventory_Items.brand,Inventory.Inventory_Items.description,Inventory.Inventory_Items.category,Inventory.Inventory_Items.price,Inventory.Inventory_checklist.id,Inventory.Inventory_checklist.order_quantity FROM Inventory.Inventory_checklist INNER JOIN Inventory.Inventory_Items WHERE Inventory.Inventory_checklist.business_id = ? and Inventory.Inventory_checklist.inventory_item_id=Inventory.Inventory_Items.id ORDER BY Inventory.Inventory_checklist.date_of_audit",[e])]}))}))},deleteInventoryAuditItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("DELETE FROM Inventory.Inventory_checklist WHERE ?",[e])]}))}))},updateInventoryAuditItem:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Inventory.Inventory_checklist SET ? WHERE id = ?",[e,n])]}))}))}}},896:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={verifyInformation:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("SELECT * FROM Credentials.Login_Credentials WHERE email=?",[e])]}))}))},updateBearerToken:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("UPDATE Credentials.Login_Credentials SET ? WHERE email =? ",[e,n])]}))}))},associateVerification:function(e,n){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,(0,i.Query)("SELECT * FROM Credentials.Principle_Login_Credentials WHERE pin = ? and id = ? ",[e,n])]}))}))}}},388:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(522);n.default={viewMessages:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,(0,i.Query)("select * from Communication.Messages")]}))}))},insertMessage:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){return[2,(0,i.Query)("INSERT INTO Communication.Support SET ?",e)]}))}))}}},554:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),t(81),t(55);var r=t(511),o=t(598),i=t(522);r.use(new o.Strategy((function(e,n){i.mysqlAccess.query("SELECT * FROM Credentials.Login_Credentials Where access_token = ?",[e],(function(e,t){return e?n(e):t?t?n(null,t,{scope:"read"}):void 0:n(null,!1)}))})))},154:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(u,a)}c((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(t=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=n.call(e,u)}catch(e){a=[6,e],r=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t(860);t(81),t(55);var u=t(511),a=t(55),c=t(789),s=t(96),l=i.Router();u.use(new a.Strategy({usernameField:"email",passwordField:"password"},(function(e,n,t){return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,(0,c.checkAccount)(e)];case 1:return(r=o.sent()[0])&&s.compareSync(n,r.password)?[2,t(null,r)]:[2,t(null,!1,{message:"Invalid credentials.\n"})]}}))}))}))),u.serializeUser((function(e,n){delete e.date_time,delete e.password,delete e.terms_of_service,delete e.privacy_policy,process.nextTick((function(){return n(null,{id:e.id,first_name:e.first_name,last_name:e.last_name,business_name:e.business_name,phone_number:e.phone_number,email:e.email,account_type:e.account_type,access_token:e.access_token})}))})),u.deserializeUser((function(e,n){process.nextTick((function(){return n(null,e)}))})),l.post("/login_verification",u.authenticate("local"),(function(e,n){e.user?e.logIn(e.user,(function(t){return n.cookie("user",e.user).json(e.user)})):e.user||n.sendStatus(401)})),n.default=l},96:e=>{e.exports=require("bcrypt")},986:e=>{e.exports=require("body-parser")},501:e=>{e.exports=require("cookie-parser")},582:e=>{e.exports=require("cors")},142:e=>{e.exports=require("dotenv")},81:e=>{e.exports=require("dotenv/config")},860:e=>{e.exports=require("express")},508:e=>{e.exports=require("express-session")},344:e=>{e.exports=require("jsonwebtoken")},993:e=>{e.exports=require("mysql2")},511:e=>{e.exports=require("passport")},598:e=>{e.exports=require("passport-http-bearer")},55:e=>{e.exports=require("passport-local")},202:e=>{e.exports=require("twilio")},17:e=>{e.exports=require("path")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}(()=>{var e=t(860),n=t(582),r=t(17),o=t(986),i=t(511);t(81);var u=t(31),a=t(710),c=t(403),s=t(583),l=t(154),f=t(508);t(554);var d=t(501),v=e();v.use(e.json()),v.use(o.urlencoded({extended:!0})),v.use(n()),v.use((function(e,n,t){n.set("Access-Control-Allow-Origin","*"),n.set("Access-Control-Allow-Headers","*"),n.set("Cache-Control","no-cache"),t()})),v.set("trust proxy",!0),v.use(d()),v.use(f({secret:"keyboard cat",resave:!1,saveUninitialized:!1,cookie:{secure:!1}})),v.use(i.initialize()),v.use(i.session()),v.use(l.default),v.use("/",e.static("public")),v.use("/signup",e.static("public")),v.use("/store",e.static("public")),v.use("/support",e.static("public")),v.use("/support",e.static("public")),v.use("/principle/",(function(e,n,t){e.user?t():n.redirect("/signup")}),e.static("public")),v.use(s.default),v.use(u.default),v.use(a.default),v.use(c.default),v.get("*",(function(e,n){n.sendFile(r.join(__dirname,"../public","index.html"))})),v.listen(8080,(function(){console.log("Server listening on port ".concat(8080,"..."))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UjhCLEVBQUk5QixJQUFJLElBQUtuSCxFQUFROEosT0FBUSxXQUM3QmIsRUFBSTlCLElBQUksVUFBV25ILEVBQVE4SixPQUFRLFdBQ25DYixFQUFJOUIsSUFBSSxTQUFVbkgsRUFBUThKLE9BQVEsV0FDbENiLEVBQUk5QixJQUFJLFdBQVluSCxFQUFROEosT0FBUSxXQUNwQ2IsRUFBSTlCLElBQUksV0FBWW5ILEVBQVE4SixPQUFRLFdBQ3BDYixFQUFJOUIsSUFBSSxlQWJhLFNBQUNoSCxFQUFLQyxFQUFLb0MsR0FDekJyQyxFQUFJRyxLQUdQa0MsSUFGQXBDLEVBQUkySixTQUFTLFVBSWpCLEdBT3FDL0osRUFBUThKLE9BQU8sV0FLcERiLEVBQUk5QixJQUFJLFdBRVI4QixFQUFJOUIsSUFBSSxXQUNSOEIsRUFBSTlCLElBQUksV0FDUjhCLEVBQUk5QixJQUFJLFdBSVI4QixFQUFJL0ksSUFBSSxLQUFLLFNBQUNDLEVBQUtDLEdBQ2pCQSxFQUFJNEosU0FBU0MsRUFBS0MsS0FBS0MsVUFBVyxZQUFhLGNBQ2pELElBQ0FsQixFQUFJbUIsT0FBTyxNQUFNLFdBQ2ZoSSxRQUFRQyxJQUFJLG1DQUE0QixLQUFJLE9BQzlDLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9DbGllbnRQb3J0YWwvQ2xpZW50UGVyc29uYWxEZXRhaWxzLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL0NsaWVudFBvcnRhbC9JbnZlbnRvcnlSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvSG9tZXBhZ2UvcmVnaXN0cmF0aW9uLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL01FU1NBR0VfU1VQUE9SVC9zdXBwb3J0LnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TTVMvc2VuZF9zbXMudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9Db25lY3Rpb24udHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9Mb2dpbi9pbmRleC50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1ByaW5jaXBsZUNsaWVudFBvcnRhbC9DbGllbnRQZXJzb25hbERldGFpbHMudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9QcmluY2lwbGVDbGllbnRQb3J0YWwvSW52ZW50b3J5LnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvU2VjdXJpdHkvVmVyaWZpY2F0aW9uLnRzIiwid2VicGFjazovL2tjbWluYy8uL3NyYy9CQUNLRU5EL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvU3VwcG9ydF9EYXRhYmFzZS50cyIsIndlYnBhY2s6Ly9rY21pbmMvLi9zcmMvQkFDS0VORC9TZWN1cml0eS9CZWFyZXIudHMiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvU2VjdXJpdHkvbG9jYWxTdHJhdGVneS50cyIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJiY3J5cHRcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcImNvb2tpZS1wYXJzZXJcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJjb3JzXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiZG90ZW52XCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwiZG90ZW52L2NvbmZpZ1wiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJqc29ud2VidG9rZW5cIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJteXNxbDJcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJwYXNzcG9ydFwiIiwid2VicGFjazovL2tjbWluYy9leHRlcm5hbCBjb21tb25qcyBcInBhc3Nwb3J0LWh0dHAtYmVhcmVyXCIiLCJ3ZWJwYWNrOi8va2NtaW5jL2V4dGVybmFsIGNvbW1vbmpzIFwicGFzc3BvcnQtbG9jYWxcIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgY29tbW9uanMgXCJ0d2lsaW9cIiIsIndlYnBhY2s6Ly9rY21pbmMvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly9rY21pbmMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8va2NtaW5jLy4vc3JjL0JBQ0tFTkQvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuaW1wb3J0IGNsaWVudF9hZG1pbl9xdWVyeSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1ByaW5jaXBsZUNsaWVudFBvcnRhbC9DbGllbnRQZXJzb25hbERldGFpbHMnO1xuaW1wb3J0IHtjaGVja0FjY291bnR9IGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvTG9naW4vJ1xuXG5cblxuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxucm91dGVyLmdldCgnL2dldFByaW5jaXBsZUluZm9ybWF0aW9uJywgYXN5bmMgKHJlcTphbnksIHJlcykgPT4ge1xuICAgIHJlcy5jb29raWUoJ3VzZXInLHJlcS51c2VyKVxuXG5cbn0pO1xuXG5yb3V0ZXIucHV0KCcvdXBkYXRlQ2xpZW50aW5mb3JtYXRpb24nLCBhc3luYyAocmVxOmFueSwgcmVzKSA9PiB7XG4gICAgY29uc3QgbmV3UmVwbHkgPSBhd2FpdCBjbGllbnRfYWRtaW5fcXVlcnkudXBkYXRlUFJJTkNJUExFKHJlcS5ib2R5LHJlcS51c2VyLmlkKVxuICAgIHJlcy5qc29uKG5ld1JlcGx5KVxufSk7XG5cblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyBcblxuIiwiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuaW1wb3J0IHN0b3JlcyBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1ByaW5jaXBsZUNsaWVudFBvcnRhbC9JbnZlbnRvcnknO1xuaW1wb3J0IHZlcmlmeSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1NlY3VyaXR5L1ZlcmlmaWNhdGlvbidcblxuXG5cblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxuXG5cbnJvdXRlci5wb3N0KCcvY3JlYXRlU3RvcmUnLCBhc3luYyAocmVxOiBhbnksIHJlcykgPT4ge1xuICAgIGNvbnN0IHN0b3JlID0gYXdhaXQgc3RvcmVzLmNyZWF0ZVN0b3JlKHJlcS5ib2R5KVxuICAgIHJlcy5qc29uKCdoZWxsbycpXG59KTtcblxuXG5yb3V0ZXIucG9zdCgnL2luc2VydEludmVudG9yeUl0ZW1zJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50X3N0b3JlID0gYXdhaXQgc3RvcmVzLmluc2VydEludmVudG9yeUl0ZW0ocmVxLmJvZHkpXG4gICAgcmVzLmpzb24oY3VycmVudF9zdG9yZSlcblxufSk7XG5cbnJvdXRlci5nZXQoJy9nZXRJbnZlbnRvcnlJdGVtcycsIGFzeW5jIChyZXE6IGFueSwgcmVzKSA9PiB7XG4gICBsZXQgYnVzaW5lc3NfaWQgPSByZXEuY29va2llcy51c2VyLmlkXG4gICAgY29uc3QgcmVzdWx0SW52ZW50b3J5ID0gYXdhaXQgc3RvcmVzLmdldEludmVudG9yeUl0ZW1zKGJ1c2luZXNzX2lkKVxuICAgIFxuXG4gICAgcmVzLmpzb24ocmVzdWx0SW52ZW50b3J5KVxufSk7XG5cblxucm91dGVyLmRlbGV0ZSgnL2RlbGV0ZUludmVudG9yeUl0ZW1zJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50X3N0b3JlOiBhbnkgPSBhd2FpdCBzdG9yZXMuZGVsZXRlSW52ZW50b3J5SXRlbShyZXEuYm9keSlcbiAgICByZXMuanNvbihjdXJyZW50X3N0b3JlLmFmZmVjdGVkUm93cylcblxufSk7XG5cbnJvdXRlci5wdXQoJy91cGRhdGVJbnZlbnRvcnlJdGVtJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50X3N0b3JlOiBhbnkgPSBhd2FpdCBzdG9yZXMudXBkYXRlSW52ZW50b3J5SXRlbShyZXEuYm9keS52YWx1ZXMsIHJlcS5ib2R5LmlkKVxuICAgIHJlcy5qc29uKGN1cnJlbnRfc3RvcmUpXG5cbn0pO1xuXG5cblxuXG4vL0NoZWNrbGlzdCBSb3V0ZXNcblxucm91dGVyLmdldCgnL2dldEludmVudG9yeUl0ZW1zRm9yRGFpbHlDaGVja2xpc3QvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgYnVzaW5lc3NfaWQgPSByZXEucGFyYW1zLmlkXG4gICAgY29uc3QgbmV3UmVwbHkgPSBhd2FpdCBzdG9yZXMuZ2V0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMoYnVzaW5lc3NfaWQpXG4gICAgcmVzLmpzb24obmV3UmVwbHkpXG5cbn0pO1xuXG5yb3V0ZXIucG9zdCgnL2luc2VydEludmVudG9yeUNoZWNrbGlzdEl0ZW1zJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICByZXEuYm9keS5vcmRlcl9xdWFudGl0eSA9IHJlcS5ib2R5LnJlY29tbWVuZGVkX3N0b2NrX2xldmVsIC0gcmVxLmJvZHkuaW5fc3RvY2tcblxuICAgIGlmIChyZXEuYm9keS5vcmRlcl9xdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIHJlcS5ib2R5Lm9yZGVyX3F1YW50aXR5ID0gMFxuICAgIH1cbiAgICBkZWxldGUgcmVxLmJvZHkucmVjb21tZW5kZWRfc3RvY2tfbGV2ZWxcbiAgICBjb25zdCBuZXdSZXBseSA9IGF3YWl0IHN0b3Jlcy5pbnNlcnRJbnZlbnRvcnlDaGVja2xpc3RJdGVtcyhyZXEuYm9keSlcbiAgICByZXMuanNvbihuZXdSZXBseSlcbn0pO1xuXG5yb3V0ZXIucG9zdCgnL3ZlcmlmeV9hc3NvY2lhdGVfcGluJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgXG4gICAgICAgIGNvbnN0IFtuZXdSZXBseSxlcnJvcl0gPSBhd2FpdCB2ZXJpZnkuYXNzb2NpYXRlVmVyaWZpY2F0aW9uKHJlcS5ib2R5LnBpbixyZXEuYm9keS5pZClcbiAgICAgICAgXG5cbiAgICAgICAgaWYgKG5ld1JlcGx5KXtcbiAgICAgICAgICAgIHJlcy5qc29uKHRydWUpXG4gICAgICAgIH1lbHNlIGlmICghbmV3UmVwbHkpe1xuICAgICAgICAgICAgcmVzLmpzb24oZmFsc2UpXG4gICAgICAgIH1cbiAgICBcblxufSk7XG5cbnJvdXRlci5nZXQoJy9pbnZlbnRvcnlfcmVmZXJlbmNlX2luZm9ybWF0aW9uJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBsZXQgaWQgPSByZXEuY29va2llcy51c2VyLmlkXG4gICAgY29uc3QgcmVwbHkgPSBhd2FpdCBzdG9yZXMuZ2V0SW52ZW50b3J5UmVmZXJlbmNlKGlkKVxuICAgIGNvbnNvbGUubG9nKHJlcGx5KVxuICAgIHJlcy5qc29uKHJlcGx5KVxufSk7XG5cbnJvdXRlci5kZWxldGUoJy9kZWxldGVJbnZlbnRvcnlBdWRpdEl0ZW1zJywgYXN5bmMgKHJlcTogYW55LCByZXMpID0+IHtcbiAgICBjb25zdCBjdXJyZW50X3N0b3JlOiBhbnkgPSBhd2FpdCBzdG9yZXMuZGVsZXRlSW52ZW50b3J5QXVkaXRJdGVtKHJlcS5ib2R5KVxuICAgIHJlcy5qc29uKGN1cnJlbnRfc3RvcmUuYWZmZWN0ZWRSb3dzKVxuXG59KTtcblxuXG5cbnJvdXRlci5wdXQoJy91cGRhdGVJbnZlbnRvcnlBdWRpdEl0ZW0nLCBhc3luYyAocmVxOiBhbnksIHJlcykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRfc3RvcmU6IGFueSA9IGF3YWl0IHN0b3Jlcy51cGRhdGVJbnZlbnRvcnlBdWRpdEl0ZW0ocmVxLmJvZHkudmFsdWVzLCByZXEuYm9keS5pZClcbiAgICByZXMuanNvbihjdXJyZW50X3N0b3JlKVxuXG59KTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgIiwiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuXG5pbXBvcnQgJ2RvdGVudi9jb25maWcnXG5pbXBvcnQgZGF0YWJhc2VfcXVlcnkgZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9RdWVyeS50cy9TdXBwb3J0X0RhdGFiYXNlJztcbmltcG9ydCAqIGFzIGJjcnlwdCBmcm9tICdiY3J5cHQnXG5pbXBvcnQgKiBhcyBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IHsgcmVnaXN0cmF0aW9uSW5mb3JtYXRpb24sIGNoZWNrQWNjb3VudCB9IGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvTG9naW4nXG5pbXBvcnQgeyBVbmRlcmxpbmVPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxuY29uc3QgY2hlY2tDcmVkZW50aWFscyA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIFxuICBjb25zdCBjaGVja19EQl9hZ2FpbnN0X2VtYWlsOiBhbnlbXSA9IGF3YWl0IGNoZWNrQWNjb3VudChyZXEuYm9keS5lbWFpbClcbiAgaWYgKGNoZWNrX0RCX2FnYWluc3RfZW1haWwubGVuZ3RoID09PSAwKSB7XG4gICAgbmV4dCgpXG4gIH0gZWxzZSBpZihjaGVja19EQl9hZ2FpbnN0X2VtYWlsLmxlbmd0aCA+IDApIHtcbiAgICByZXMuanNvbih0cnVlKVxuICB9XG59XG5cblxucm91dGVyLnBvc3QoJy9yZWdpc3RyYXRpb24nLGNoZWNrQ3JlZGVudGlhbHMsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHRTeW5jKE51bWJlcihwcm9jZXNzLmVudi5TQUxUX1JPVU5EKSk7XG4gIGNvbnN0IGhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkuY29uZmlybV9wYXNzd29yZCwgc2FsdCk7XG4gIGRlbGV0ZSByZXEuYm9keS5jb25maXJtX3Bhc3N3b3JkXG4gIHZhciB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcl9uYW1lOiByZXEuYm9keS5lbWFpbCwgZW1haWw6IHJlcS5ib2R5LmVtYWlsIH0sIHByb2Nlc3MuZW52LkJFQVJFUl9QUklWQVRFKTtcbiAgcmVxLmJvZHkucGFzc3dvcmQgPSBoYXNoXG4gIHJlcS5ib2R5LmFjY2Vzc190b2tlbiA9IHRva2VuXG4gIHJlcS5ib2R5LnBpbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDk5OTk5OSkgKyAxMTExMTFcbiAgY29uc3Qgc2VuZFRleHRSZXBseSA9IGF3YWl0IHJlZ2lzdHJhdGlvbkluZm9ybWF0aW9uKHJlcS5ib2R5KVxuICByZXMuanNvbihmYWxzZSlcbn0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXG5cbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbmltcG9ydCBkYXRhYmFzZV9xdWVyeSBmcm9tICcuLi9Qcm9ncmFtQ29udHJvbEZsb3cvU1FML1F1ZXJ5LnRzL1N1cHBvcnRfRGF0YWJhc2UnO1xuaW1wb3J0IHsgTWVzc2FnZVJlc3BvbnNlRnJvbUhvbWVQYWdlIH0gZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NNUy9zZW5kX3Ntcyc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxucm91dGVyLnBvc3QoJy9zdXBwb3J0X21lc3NhZ2UnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2VuZFRleHRSZXBseSA9IGF3YWl0IE1lc3NhZ2VSZXNwb25zZUZyb21Ib21lUGFnZShyZXEuYm9keS5maXJzdF9uYW1lLCBbcmVxLmJvZHkucGhvbmVfbnVtYmVyXSlcbiAgY29uc3QgbmV3UmVwbHkgPSBhd2FpdCBkYXRhYmFzZV9xdWVyeS5pbnNlcnRNZXNzYWdlKHJlcS5ib2R5KVxuICByZXMuanNvbihuZXdSZXBseSlcbn0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsgIiwiXG5pbXBvcnQgKiBhcyBUd2lsaW8gZnJvbSAndHdpbGlvJ1xuaW1wb3J0ICogYXMgZG90ZW52IGZyb20gJ2RvdGVudidcbmltcG9ydCAqIGFzIGRheWpzIGZyb20gJ2RheWpzJ1xuZG90ZW52LmNvbmZpZygpXG5cblxuXG4vLyBUd2lsaW8gQ29udHJvbCBhbmQgQWNjZXNzIENyZWRlbnRpYWwgXG5jb25zdCBhY2NvdW50U2lkID0gcHJvY2Vzcy5lbnYuVFdJTElPX1NJRDtcbmNvbnN0IGF1dGhUb2tlbiA9IHByb2Nlc3MuZW52LlRXSUxJT19BVVRIS0VZO1xuY29uc3Qgc21zID0gVHdpbGlvKGFjY291bnRTaWQsIGF1dGhUb2tlbilcblxuZXhwb3J0IGNvbnN0IHsgTWVzc2FnaW5nUmVzcG9uc2UgfSA9IFR3aWxpby50d2ltbCBcblxuZXhwb3J0IGZ1bmN0aW9uIE1lc3NhZ2VSZXNwb25zZUZyb21Ib21lUGFnZShuYW1lOnN0cmluZyx0bz86c3RyaW5nW118IGFueSkge1xuICAgIFxuICAgIHRvLm1hcChhc3luYyAoaSkgPT4ge1xuICAgICAgICBhd2FpdCBzbXMubWVzc2FnZXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHk6IGBEZWFyICR7bmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpfSxUaGFuayB5b3UgZm9yIGNvbnRhY3RpbmcgS2NtIEluYy4gUmVzdCBhc3N1cmVkIHRoYXQgb3VyIHN1cHBvcnQgdGVhbSB3aWxsIHByb21wdGx5IHJlc3BvbmQgdG8geW91ciBxdWVyeSB3aXRoaW4gdGhlIG5leHQgNDgtNzIgaG91cnMuIGAsXG4gICAgICAgICAgICBmcm9tOiBwcm9jZXNzLmVudi5UV0lMSU9fUEhPTkUsXG4gICAgICAgICAgICBzaG9ydGVuVXJsczogdHJ1ZSxcbiAgICAgICAgICAgIHRvOiBpXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICB9KTtcbn1cblxuXG4vLyBleHBvcnQgZnVuY3Rpb24gSW52ZW50b3J5UmVzcG9uY2VNZXNzYWdlKHJlZmVyZW5jZV9udW1iZXI6YW55LHRvPzpzdHJpbmdbXXwgYW55KSB7XG4gICAgXG4vLyAgICAgdG8ubWFwKGFzeW5jIChpKSA9PiB7XG4vLyAgICAgICAgIGF3YWl0IHNtcy5tZXNzYWdlcy5jcmVhdGUoe1xuLy8gICAgICAgICAgICAgYm9keTogYEhlbGxvLFRoaXMgaXMgYSBtZXNzYWdlIGZyb20gS0NNIEluYy4gV2Ugd2FudGVkIHRvIGluZm9ybSB5b3UgdGhhdCBhbiBpbnZlbnRvcnkgcmVjb3JkaW5nIGZyb20gJHtkYXlqcygpLmZvcm1hdCgnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQScpfSBoYXMgYmVlbiBzdWJtaXR0ZWQgYW5kIGl0cyByZWZlcmVuY2UgbnVtYmVyIGlzICR7cmVmZXJlbmNlX251bWJlcn0uIFRoYW5rIHlvdS5gLFxuLy8gICAgICAgICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuVFdJTElPX1BIT05FLFxuLy8gICAgICAgICAgICAgc2hvcnRlblVybHM6IHRydWUsXG4vLyAgICAgICAgICAgICB0bzogaVxuLy8gICAgICAgICB9KTtcbiAgICAgICAgXG4vLyAgICAgfSk7XG4vLyB9XG5cblxuXG5cblxuXG4iLCJpbXBvcnQgKiBhcyBteXNxbCBmcm9tICdteXNxbDInO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcblxuXG5cblxuXG5leHBvcnQgY29uc3QgbXlzcWxBY2Nlc3MgPSBteXNxbC5jcmVhdGVQb29sKHtcbiAgICB1c2VyOnByb2Nlc3MuZW52Lk1ZU1FMX1VTRVIsXG4gICAgcGFzc3dvcmQ6cHJvY2Vzcy5lbnYuTVlTUUxfUEFTU1dPUkQsXG4gICAgaG9zdDpwcm9jZXNzLmVudi5NWVNRTF9IT1NULFxuICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FLFxuICAgIHBvcnQ6MzMwNixcbiAgICAvLyBzb2NrZXRQYXRoOnByb2Nlc3MuZW52LklOU1RBTkNFX1VOSVhfU09DS0VUXG59KVxuXG5leHBvcnQgY29uc3QgUXVlcnkgPSAocXVlcnk6c3RyaW5nLHZhbHVlcz86QXJyYXk8c3RyaW5nfG51bWJlcj4pPT57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEFycmF5PGFueT4+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgbXlzcWxBY2Nlc3MucXVlcnkocXVlcnksdmFsdWVzLChlcnIscmVzdWx0czphbnkpID0+e1xuICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gcmVqZWN0KGVycilcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9KVxuICAgIH0pXG59O1xuXG5cblxuIiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuIGV4cG9ydCBsZXQgcmVnaXN0cmF0aW9uSW5mb3JtYXRpb24gPSBhc3luYyAodmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgU0VUID8nLCB2YWx1ZXMpO1xuIGV4cG9ydCBsZXQgY2hlY2tBY2NvdW50ID0gYXN5bmMgKGVtYWlsOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ3JlZGVudGlhbHMuUHJpbmNpcGxlX0xvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIGVtYWlsID0gPycsW2VtYWlsXSlcblxuXG5cblxuXG5cbiIsImltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIi4uLy4uL0NvbmVjdGlvblwiO1xuXG5cbmNvbnN0IGdldENsaWVudEluZm9ybWF0aW9uID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgd2hlcmUgaWQgPSA/JyxbaWRdKTtcbmNvbnN0IHVwZGF0ZVBSSU5DSVBMRSA9IGFzeW5jIChpbmZvLGlkKT0+UXVlcnkoJ1VQREFURSBDcmVkZW50aWFscy5QcmluY2lwbGVfTG9naW5fQ3JlZGVudGlhbHMgU0VUID8gV0hFUkUgaWQgPSA/JyxbaW5mbyxpZF0pXG5cbi8vIGNvbnN0IHNpbmdsZUNoaXJwID0gYXN5bmMgKGlkOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ2hpcnBzIFdIRVJFIGlkID0gPycsW2lkXSk7XG4vLyBjb25zdCBkZWxldGVNZXNzYWdlcyA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiBRdWVyeSgnREVMRVRFIEZST00gY29udGFjdCBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbi8vIGNvbnN0IGluc2VydENMSUVOVCA9IGFzeW5jICguLi52YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEtDTV9JTkMuY2xpZW50UmVnaXN0cmF0aW9uIFNFVCA/JywgdmFsdWVzKTtcbi8vIGNvbnN0IGluc2VydEluc3RpdHV0aW9uID0gYXN5bmMgKHZhbHVlczogYW55KSA9PiBRdWVyeSgnSU5TRVJUIElOVE8gTnV0cmllbnRtYXAuaW5zdGl0dXRpb24gU0VUID8nLCB2YWx1ZXMpO1xuXG4vLyBjb25zdCB1cGRhdGVNZXNzYWdlcyA9IGFzeW5jIChuZXdDb250ZW50OiBhbnksIGlkOiBhbnkpID0+IFF1ZXJ5KCdVUERBVEUgY29udGFjdCBTRVQgPyBXSEVSRSBpZCA9ID8nLCBbbmV3Q29udGVudCwgaWRdKVxuLy8gY29uc3QgYWxsVXNlcnMgPSBhc3luYyAoKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBVc2VycycpO1xuLy8gY29uc3QgaW5zZXJ0VXNlcnMgPSBhc3luYyh1c2VyIDphbnkgKT0+UXVlcnkoJ0lOU0VSVCBJTlRPIGNsaWVudHMgU0VUID8nICxbdXNlcl0pO1xuLy8gY29uc3QgaW5zZXJ0UGh5c2ljYWwgPSBhc3luYyhwaHlzaWNhbCA6YW55LGNsaWVudGlkOm51bWJlciApPT5RdWVyeSgnSU5TRVJUIElOVE8gY2xpZW50X2xpZmVzdHlsZSBTRVQgPycgLFtwaHlzaWNhbF0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBnZXRDbGllbnRJbmZvcm1hdGlvbixcbiAgICB1cGRhdGVQUklOQ0lQTEUsXG59IiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuLy8gQ3JlYXRlIFN0b3JlIFxuY29uc3QgY3JlYXRlU3RvcmUgPSBhc3luYyAoc3RvcmU6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEludmVudG9yeS5TdG9yZSBTRVQgPycsIHN0b3JlKTtcbmNvbnN0IHNlbGVjdFN0b3JlID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBJbnZlbnRvcnkuU3RvcmUgV0hFUkUgPzsnLCBbaWRdKTtcblxuXG4vL0NyZWF0ZSBhbmQgQWRkIEludmVudG9yeSB0byBQcmluY2lwbGUgRGF0YWJhc2VcbmNvbnN0IGluc2VydEludmVudG9yeUl0ZW0gPSBhc3luYyAodmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFNFVCA/JywgdmFsdWVzKTtcbmNvbnN0IGdldEludmVudG9yeUl0ZW1zID0gYXN5bmMgKGJ1c2luZXNzX2lkKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFdIRVJFIGJ1c2luZXNzX2lkID0gPycsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgZGVsZXRlSW52ZW50b3J5SXRlbSA9IGFzeW5jIChpZCkgPT4gUXVlcnkoJ0RFTEVURSBGUk9NIEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMgV0hFUkUgPycsIFtpZF0pO1xuY29uc3QgdXBkYXRlSW52ZW50b3J5SXRlbSA9IGFzeW5jICh2YWx1ZXMsaWQpID0+IFF1ZXJ5KCdVUERBVEUgSW52ZW50b3J5LkludmVudG9yeV9JdGVtcyBTRVQgPyBXSEVSRSBpZCA9ID8nLFt2YWx1ZXMsaWRdKTtcbmNvbnN0IGdldEludmVudG9yeUNoZWNrbGlzdEl0ZW1zID0gYXN5bmMoYnVzaW5lc3NfaWQpID0+IFF1ZXJ5KCdTRUxFQ1QgaWQsY2F0ZWdvcnkscmVjb21tZW5kZWRfc3RvY2tfbGV2ZWwsYnJhbmQsc3VwcGxpZXIsZGVzY3JpcHRpb24gRlJPTSBJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zIFdIRVJFIGJ1c2luZXNzX2lkID0gPyBPUkRFUiBCWSBjYXRlZ29yeScsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMgPSBhc3luYyAoLi4udmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdCBTRVQgPycsIHZhbHVlcyk7XG5jb25zdCBnZXRQaG9uZU51bWJlcnMgPSBhc3luYyhidXNpbmVzc19pZCkgPT4gUXVlcnkoJ1NFTEVDVCBwaG9uZV9udW1iZXIsYnVzaW5lc3NfbmFtZSBGUk9NIENyZWRlbnRpYWxzLlByaW5jaXBsZV9Mb2dpbl9DcmVkZW50aWFscyBXSEVSRSBpZCA9IDgwJywgW2J1c2luZXNzX2lkXSk7XG5jb25zdCBnZXRJbnZlbnRvcnlSZWZlcmVuY2UgPSBhc3luYyhidXNpbmVzc19pZCkgPT4gUXVlcnkoJ1NFTEVDVCBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5hdWRpdF9yZWZlcmVuY2VfbnVtYmVyLCBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5kYXRlX29mX2F1ZGl0LEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0LmluX3N0b2NrLEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0Lm9yZGVyX3F1YW50aXR5LEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuc3VwcGxpZXIsSW52ZW50b3J5LkludmVudG9yeV9JdGVtcy5icmFuZCxJbnZlbnRvcnkuSW52ZW50b3J5X0l0ZW1zLmRlc2NyaXB0aW9uLEludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuY2F0ZWdvcnksSW52ZW50b3J5LkludmVudG9yeV9JdGVtcy5wcmljZSxJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5pZCxJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5vcmRlcl9xdWFudGl0eSBGUk9NIEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0IElOTkVSIEpPSU4gSW52ZW50b3J5LkludmVudG9yeV9JdGVtcyBXSEVSRSBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdC5idXNpbmVzc19pZCA9ID8gYW5kIEludmVudG9yeS5JbnZlbnRvcnlfY2hlY2tsaXN0LmludmVudG9yeV9pdGVtX2lkPUludmVudG9yeS5JbnZlbnRvcnlfSXRlbXMuaWQgT1JERVIgQlkgSW52ZW50b3J5LkludmVudG9yeV9jaGVja2xpc3QuZGF0ZV9vZl9hdWRpdCcsIFtidXNpbmVzc19pZF0pO1xuY29uc3QgZGVsZXRlSW52ZW50b3J5QXVkaXRJdGVtID0gYXN5bmMgKGlkKSA9PiBRdWVyeSgnREVMRVRFIEZST00gSW52ZW50b3J5LkludmVudG9yeV9jaGVja2xpc3QgV0hFUkUgPycsIFtpZF0pO1xuY29uc3QgdXBkYXRlSW52ZW50b3J5QXVkaXRJdGVtID0gYXN5bmMgKHZhbHVlcyxpZCkgPT4gUXVlcnkoJ1VQREFURSBJbnZlbnRvcnkuSW52ZW50b3J5X2NoZWNrbGlzdCBTRVQgPyBXSEVSRSBpZCA9ID8nLFt2YWx1ZXMsaWRdKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY3JlYXRlU3RvcmUsXG4gICAgc2VsZWN0U3RvcmUsXG4gICAgaW5zZXJ0SW52ZW50b3J5SXRlbSxcbiAgICBnZXRJbnZlbnRvcnlJdGVtcyxcbiAgICBkZWxldGVJbnZlbnRvcnlJdGVtLFxuICAgIHVwZGF0ZUludmVudG9yeUl0ZW0sXG4gICAgZ2V0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMsXG4gICAgaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMsXG4gICAgZ2V0UGhvbmVOdW1iZXJzLFxuICAgIGdldEludmVudG9yeVJlZmVyZW5jZSxcbiAgICBkZWxldGVJbnZlbnRvcnlBdWRpdEl0ZW0sXG4gICAgdXBkYXRlSW52ZW50b3J5QXVkaXRJdGVtXG59IiwiaW1wb3J0IHsgUXVlcnkgfSBmcm9tIFwiLi4vLi4vQ29uZWN0aW9uXCI7XG5cblxuY29uc3QgdmVyaWZ5SW5mb3JtYXRpb24gPSBhc3luYyAoZW1haWxzOiBhbnkpID0+IFF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIENyZWRlbnRpYWxzLkxvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIGVtYWlsPT8nLFtlbWFpbHNdKTtcbmNvbnN0IHVwZGF0ZUJlYXJlclRva2VuID0gYXN5bmMgKGJlYXJlcl90b2tlbixpZCk9PlF1ZXJ5KCdVUERBVEUgQ3JlZGVudGlhbHMuTG9naW5fQ3JlZGVudGlhbHMgU0VUID8gV0hFUkUgZW1haWwgPT8gJyxbYmVhcmVyX3Rva2VuLGlkXSlcbmNvbnN0IGFzc29jaWF0ZVZlcmlmaWNhdGlvbiA9IGFzeW5jKHBpbixpZCkgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ3JlZGVudGlhbHMuUHJpbmNpcGxlX0xvZ2luX0NyZWRlbnRpYWxzIFdIRVJFIHBpbiA9ID8gYW5kIGlkID0gPyAnLFtwaW4saWRdKVxuXG4vLyBjb25zdCBzaW5nbGVDaGlycCA9IGFzeW5jIChpZDpzdHJpbmcpID0+IFF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIENoaXJwcyBXSEVSRSBpZCA9ID8nLFtpZF0pO1xuLy8gY29uc3QgZGVsZXRlTWVzc2FnZXMgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4gUXVlcnkoJ0RFTEVURSBGUk9NIGNvbnRhY3QgV0hFUkUgaWQgPSA/JywgW2lkXSk7XG4vLyBjb25zdCBpbnNlcnRDTElFTlQgPSBhc3luYyAoLi4udmFsdWVzOiBhbnkpID0+IFF1ZXJ5KCdJTlNFUlQgSU5UTyBLQ01fSU5DLmNsaWVudFJlZ2lzdHJhdGlvbiBTRVQgPycsIHZhbHVlcyk7XG4vLyBjb25zdCBpbnNlcnRJbnN0aXR1dGlvbiA9IGFzeW5jICh2YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIE51dHJpZW50bWFwLmluc3RpdHV0aW9uIFNFVCA/JywgdmFsdWVzKTtcblxuLy8gY29uc3QgdXBkYXRlTWVzc2FnZXMgPSBhc3luYyAobmV3Q29udGVudDogYW55LCBpZDogYW55KSA9PiBRdWVyeSgnVVBEQVRFIGNvbnRhY3QgU0VUID8gV0hFUkUgaWQgPSA/JywgW25ld0NvbnRlbnQsIGlkXSlcbi8vIGNvbnN0IGFsbFVzZXJzID0gYXN5bmMgKCkgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gVXNlcnMnKTtcbi8vIGNvbnN0IGluc2VydFVzZXJzID0gYXN5bmModXNlciA6YW55ICk9PlF1ZXJ5KCdJTlNFUlQgSU5UTyBjbGllbnRzIFNFVCA/JyAsW3VzZXJdKTtcblxuLy8gY29uc3QgaW5zZXJ0UGh5c2ljYWwgPSBhc3luYyhwaHlzaWNhbCA6YW55LGNsaWVudGlkOm51bWJlciApPT5RdWVyeSgnSU5TRVJUIElOVE8gY2xpZW50X2xpZmVzdHlsZSBTRVQgPycgLFtwaHlzaWNhbF0pO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB2ZXJpZnlJbmZvcm1hdGlvbixcbiAgICB1cGRhdGVCZWFyZXJUb2tlbixcbiAgICBhc3NvY2lhdGVWZXJpZmljYXRpb25cblxufSIsImltcG9ydCB7IFF1ZXJ5IH0gZnJvbSBcIi4uL0NvbmVjdGlvblwiO1xuXG5cbmNvbnN0IHZpZXdNZXNzYWdlcyA9IGFzeW5jICgpID0+IFF1ZXJ5KCdzZWxlY3QgKiBmcm9tIENvbW11bmljYXRpb24uTWVzc2FnZXMnKTtcbmNvbnN0IGluc2VydE1lc3NhZ2U9IGFzeW5jICh2YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIENvbW11bmljYXRpb24uU3VwcG9ydCBTRVQgPycsIHZhbHVlcyk7XG5cbi8vIGNvbnN0IHNpbmdsZUNoaXJwID0gYXN5bmMgKGlkOnN0cmluZykgPT4gUXVlcnkoJ1NFTEVDVCAqIEZST00gQ2hpcnBzIFdIRVJFIGlkID0gPycsW2lkXSk7XG4vLyBjb25zdCBkZWxldGVNZXNzYWdlcyA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiBRdWVyeSgnREVMRVRFIEZST00gY29udGFjdCBXSEVSRSBpZCA9ID8nLCBbaWRdKTtcbi8vIGNvbnN0IGluc2VydENMSUVOVCA9IGFzeW5jICguLi52YWx1ZXM6IGFueSkgPT4gUXVlcnkoJ0lOU0VSVCBJTlRPIEtDTV9JTkMuY2xpZW50UmVnaXN0cmF0aW9uIFNFVCA/JywgdmFsdWVzKTtcbi8vIGNvbnN0IGluc2VydEluc3RpdHV0aW9uID0gYXN5bmMgKHZhbHVlczogYW55KSA9PiBRdWVyeSgnSU5TRVJUIElOVE8gTnV0cmllbnRtYXAuaW5zdGl0dXRpb24gU0VUID8nLCB2YWx1ZXMpO1xuXG4vLyBjb25zdCB1cGRhdGVNZXNzYWdlcyA9IGFzeW5jIChuZXdDb250ZW50OiBhbnksIGlkOiBhbnkpID0+IFF1ZXJ5KCdVUERBVEUgY29udGFjdCBTRVQgPyBXSEVSRSBpZCA9ID8nLCBbbmV3Q29udGVudCwgaWRdKVxuLy8gY29uc3QgYWxsVXNlcnMgPSBhc3luYyAoKSA9PiBRdWVyeSgnU0VMRUNUICogRlJPTSBVc2VycycpO1xuLy8gY29uc3QgaW5zZXJ0VXNlcnMgPSBhc3luYyh1c2VyIDphbnkgKT0+UXVlcnkoJ0lOU0VSVCBJTlRPIGNsaWVudHMgU0VUID8nICxbdXNlcl0pO1xuXG4vLyBjb25zdCBpbnNlcnRQaHlzaWNhbCA9IGFzeW5jKHBoeXNpY2FsIDphbnksY2xpZW50aWQ6bnVtYmVyICk9PlF1ZXJ5KCdJTlNFUlQgSU5UTyBjbGllbnRfbGlmZXN0eWxlIFNFVCA/JyAsW3BoeXNpY2FsXSk7XG5cblxuXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHZpZXdNZXNzYWdlcyxcbiAgICBpbnNlcnRNZXNzYWdlXG5cblxufSIsIlxuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuaW1wb3J0ICdwYXNzcG9ydC1sb2NhbCc7XG5pbXBvcnQgKiBhcyBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCdcbmltcG9ydCB7U3RyYXRlZ3kgYXMgQmVhcmVyU3RyYXRlZ3l9IGZyb20gJ3Bhc3Nwb3J0LWh0dHAtYmVhcmVyJztcbmltcG9ydCAqIGFzIGRiIGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvUHJpbmNpcGxlQ2xpZW50UG9ydGFsL0JlYXJlclRva2VuRGV0YWlscydcbmltcG9ydCB7IG15c3FsQWNjZXNzIH0gZnJvbSAnLi4vUHJvZ3JhbUNvbnRyb2xGbG93L1NRTC9Db25lY3Rpb24nO1xuXG5cblxuXG5cblxucGFzc3BvcnQudXNlKG5ldyBCZWFyZXJTdHJhdGVneShcbiAgICAgKHRva2VuLCBkb25lKT0+IHtcbiAgICAgICAgbXlzcWxBY2Nlc3MucXVlcnkoYFNFTEVDVCAqIEZST00gQ3JlZGVudGlhbHMuTG9naW5fQ3JlZGVudGlhbHMgV2hlcmUgYWNjZXNzX3Rva2VuID0gP2AsIFt0b2tlbl0sIChlcnJvciwgdXNlcikgPT4ge1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHsgcmV0dXJuIGRvbmUoZXJyb3IpOyB9XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHsgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UpOyB9XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgdXNlciwgeyBzY29wZTogJ3JlYWQnIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcbiAgICB9XG4pKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiIsImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuaW1wb3J0ICdwYXNzcG9ydC1sb2NhbCc7XG5pbXBvcnQgKiBhcyBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCdcbmltcG9ydCB7IFN0cmF0ZWd5IGFzIExvY2FsU3RyYXRlZ3kgfSBmcm9tICdwYXNzcG9ydC1sb2NhbCdcbmltcG9ydCB7IGNoZWNrQWNjb3VudCB9IGZyb20gJy4uL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvTG9naW4vaW5kZXgnXG5pbXBvcnQgKiBhcyBiY3J5cHQgZnJvbSAnYmNyeXB0J1xuXG5cblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucGFzc3BvcnQudXNlKG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgdXNlcm5hbWVGaWVsZDogJ2VtYWlsJyxcbiAgcGFzc3dvcmRGaWVsZDogJ3Bhc3N3b3JkJyxcbn0sIGFzeW5jIGZ1bmN0aW9uIHZlcmlmeShlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBkb25lOiBhbnkpIHtcbiAgY29uc3QgW3VzZXJdID0gYXdhaXQgY2hlY2tBY2NvdW50KGVtYWlsKVxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwgeyBtZXNzYWdlOiBcIkludmFsaWQgY3JlZGVudGlhbHMuXFxuXCIgfSk7XG4gIH1cbiAgaWYgKCFiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHsgbWVzc2FnZTogXCJJbnZhbGlkIGNyZWRlbnRpYWxzLlxcblwiIH0pO1xuICB9XG4gIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuXG59XG4pKTtcblxucGFzc3BvcnQuc2VyaWFsaXplVXNlcigodXNlcjogYW55LCBkb25lKSA9PiB7XG4gIGRlbGV0ZSB1c2VyLmRhdGVfdGltZVxuICBkZWxldGUgdXNlci5wYXNzd29yZFxuICBkZWxldGUgdXNlci50ZXJtc19vZl9zZXJ2aWNlXG4gIGRlbGV0ZSB1c2VyLnByaXZhY3lfcG9saWN5XG4gIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgIHJldHVybiBkb25lKG51bGwsIHtcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgZmlyc3RfbmFtZTogdXNlci5maXJzdF9uYW1lLFxuICAgICAgbGFzdF9uYW1lOiB1c2VyLmxhc3RfbmFtZSxcbiAgICAgIGJ1c2luZXNzX25hbWU6IHVzZXIuYnVzaW5lc3NfbmFtZSxcbiAgICAgIHBob25lX251bWJlcjogdXNlci5waG9uZV9udW1iZXIsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGFjY291bnRfdHlwZTogdXNlci5hY2NvdW50X3R5cGUsXG4gICAgICBhY2Nlc3NfdG9rZW46IHVzZXIuYWNjZXNzX3Rva2VuXG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbnBhc3Nwb3J0LmRlc2VyaWFsaXplVXNlcigodXNlcjogYW55LCBkb25lKSA9PiB7XG4gIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgIHJldHVybiBkb25lKG51bGwsIHVzZXIpO1xuICB9KTtcbn0pO1xuXG5cbnJvdXRlci5wb3N0KCcvbG9naW5fdmVyaWZpY2F0aW9uJywgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbCcpLCAocmVxOiBhbnksIHJlcykgPT4ge1xuICBpZiAocmVxLnVzZXIpIHtcbiAgICByZXEubG9nSW4ocmVxLnVzZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5jb29raWUoJ3VzZXInLHJlcS51c2VyKS5qc29uKHJlcS51c2VyKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICghcmVxLnVzZXIpIHtcbiAgICBcbiAgICByZXMuc2VuZFN0YXR1cyg0MDEpXG4gIH1cbn0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG5cblxuXG5cblxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29va2llLXBhcnNlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb3JzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRvdGVudlwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkb3RlbnYvY29uZmlnXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzcy1zZXNzaW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJteXNxbDJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtaHR0cC1iZWFyZXJcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGFzc3BvcnQtbG9jYWxcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidHdpbGlvXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCAqIGFzIGNvcnMgZnJvbSAnY29ycydcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCAqIGFzIGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXG5pbXBvcnQgKiBhcyBwYXNzcG9ydCBmcm9tICdwYXNzcG9ydCdcbmltcG9ydCAnZG90ZW52L2NvbmZpZydcbi8vIGltcG9ydCBIb21lcGFnZVNlcnZlciBmcm9tICcuL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvSG9tZXBhZ2VfUXVlcnknO1xuLy8gaW1wb3J0IENsaWVudFBvcnRhbCBmcm9tICcuL1Byb2dyYW1Db250cm9sRmxvdy9TUUwvUXVlcnkudHMvUHJpbmNpcGxlQ2xpZW50UG9ydGFsL0NsaWVudFBlcnNvbmFsRGV0YWlscyc7XG4vLyBpbXBvcnQgeyBNZXNzYWdpbmdSZXNwb25zZSwgc2VuZFJlcGx5IH0gZnJvbSAnLi9Qcm9ncmFtQ29udHJvbEZsb3cvU01TL3NlbmRfc21zJztcbi8vIGltcG9ydCAnLi9Qcm9ncmFtQ29udHJvbEZsb3cvUEFZTUVOVFMvYXV0aG9yaXplX2NhcmQnO1xuaW1wb3J0IHN1cHBvcnQgZnJvbSAnLi9NRVNTQUdFX1NVUFBPUlQvc3VwcG9ydCdcbmltcG9ydCBjbGllbnQgZnJvbSAnLi9DbGllbnRQb3J0YWwvQ2xpZW50UGVyc29uYWxEZXRhaWxzJ1xuLy8gaW1wb3J0IGJpbGxpbmcgZnJvbSAnLi9DbGllbnRQb3J0YWwvQ2xpZW50QmlsbGluZyc7XG4vLyBpbXBvcnQgbm90YXJ5IGZyb20gJy4vQ2xpZW50UG9ydGFsL0NsaWVudFNlcnZpY2VSZXF1ZXN0JztcbmltcG9ydCBpbnZlbnRvcnkgZnJvbSAnLi9DbGllbnRQb3J0YWwvSW52ZW50b3J5Um91dGVzJztcblxuaW1wb3J0IHJlZ2lzdHJhdGlvbiBmcm9tICcuL0hvbWVwYWdlL3JlZ2lzdHJhdGlvbidcbmltcG9ydCBVUFN0cmF0ZWd5IGZyb20gJy4vU2VjdXJpdHkvbG9jYWxTdHJhdGVneSdcbmltcG9ydCAqIGFzIHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJ1xuaW1wb3J0ICcuL1NlY3VyaXR5L0JlYXJlcidcblxuaW1wb3J0ICogYXMgY29va2llcGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInXG5cblxuXG5jb25zdCBhcHAgPSBleHByZXNzKClcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoY29ycygpKVxuYXBwLnVzZSgocmVxLCByZXMsIG5leHQpID0+IHtcbiAgcmVzLnNldCgnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKVxuICByZXMuc2V0KCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJyonKVxuICByZXMuc2V0KCdDYWNoZS1Db250cm9sJywnbm8tY2FjaGUnKVxuICBuZXh0KClcbn0pXG5hcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpXG5cbmFwcC51c2UoY29va2llcGFyc2VyKCkpXG5hcHAudXNlKHNlc3Npb24oe1xuICBzZWNyZXQ6ICdrZXlib2FyZCBjYXQnLFxuICByZXNhdmU6IGZhbHNlLFxuICBzYXZlVW5pbml0aWFsaXplZDogZmFsc2UsXG4gIGNvb2tpZTogeyBzZWN1cmU6IGZhbHNlIH1cbn0pKTtcblxuXG5hcHAudXNlKHBhc3Nwb3J0LmluaXRpYWxpemUoKSk7XG5hcHAudXNlKHBhc3Nwb3J0LnNlc3Npb24oKSk7XG5cblxuXG5hcHAudXNlKFVQU3RyYXRlZ3kpXG5jb25zdCB2YWxpZGF0ZVVzZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgaWYgKCFyZXEudXNlcikge1xuICAgIHJlcy5yZWRpcmVjdCgnL3NpZ251cCcpXG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpXG4gIH1cbn1cblxuYXBwLnVzZSgnLycsIGV4cHJlc3Muc3RhdGljKCAncHVibGljJykpXG5hcHAudXNlKCcvc2lnbnVwJywgZXhwcmVzcy5zdGF0aWMoICdwdWJsaWMnKSlcbmFwcC51c2UoJy9zdG9yZScsIGV4cHJlc3Muc3RhdGljKCAncHVibGljJykpXG5hcHAudXNlKCcvc3VwcG9ydCcsIGV4cHJlc3Muc3RhdGljKCAncHVibGljJykpXG5hcHAudXNlKCcvc3VwcG9ydCcsIGV4cHJlc3Muc3RhdGljKCAncHVibGljJykpXG5hcHAudXNlKCcvcHJpbmNpcGxlLycsIHZhbGlkYXRlVXNlciwgZXhwcmVzcy5zdGF0aWMoJ3B1YmxpYycpKVxuXG5cblxuXG5hcHAudXNlKHJlZ2lzdHJhdGlvbilcblxuYXBwLnVzZShzdXBwb3J0KVxuYXBwLnVzZShjbGllbnQpXG5hcHAudXNlKGludmVudG9yeSlcblxuXG4gXG5hcHAuZ2V0KFwiKlwiLCAocmVxLCByZXMpID0+IHtcbiAgcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vcHVibGljXCIsIFwiaW5kZXguaHRtbFwiKSk7XG59KTtcbmFwcC5saXN0ZW4oODA4MCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgU2VydmVyIGxpc3RlbmluZyBvbiBwb3J0ICR7ODA4MH0uLi5gKVxufSlcblxuXG5cbiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY29va2llIiwidXNlciIsInB1dCIsInVwZGF0ZVBSSU5DSVBMRSIsImJvZHkiLCJpZCIsIm5ld1JlcGx5IiwianNvbiIsInBvc3QiLCJjcmVhdGVTdG9yZSIsImluc2VydEludmVudG9yeUl0ZW0iLCJjdXJyZW50X3N0b3JlIiwiYnVzaW5lc3NfaWQiLCJjb29raWVzIiwiZ2V0SW52ZW50b3J5SXRlbXMiLCJyZXN1bHRJbnZlbnRvcnkiLCJkZWxldGUiLCJkZWxldGVJbnZlbnRvcnlJdGVtIiwiYWZmZWN0ZWRSb3dzIiwidXBkYXRlSW52ZW50b3J5SXRlbSIsInZhbHVlcyIsInBhcmFtcyIsImdldEludmVudG9yeUNoZWNrbGlzdEl0ZW1zIiwib3JkZXJfcXVhbnRpdHkiLCJyZWNvbW1lbmRlZF9zdG9ja19sZXZlbCIsImluX3N0b2NrIiwiaW5zZXJ0SW52ZW50b3J5Q2hlY2tsaXN0SXRlbXMiLCJhc3NvY2lhdGVWZXJpZmljYXRpb24iLCJwaW4iLCJnZXRJbnZlbnRvcnlSZWZlcmVuY2UiLCJyZXBseSIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVJbnZlbnRvcnlBdWRpdEl0ZW0iLCJ1cGRhdGVJbnZlbnRvcnlBdWRpdEl0ZW0iLCJuZXh0IiwiY2hlY2tBY2NvdW50IiwiZW1haWwiLCJjaGVja19EQl9hZ2FpbnN0X2VtYWlsIiwibGVuZ3RoIiwiYmNyeXB0IiwiZ2VuU2FsdFN5bmMiLCJOdW1iZXIiLCJwcm9jZXNzIiwiZW52IiwiU0FMVF9ST1VORCIsInNhbHQiLCJoYXNoU3luYyIsImNvbmZpcm1fcGFzc3dvcmQiLCJoYXNoIiwidG9rZW4iLCJqd3QiLCJzaWduIiwidXNlcl9uYW1lIiwiQkVBUkVSX1BSSVZBVEUiLCJwYXNzd29yZCIsImFjY2Vzc190b2tlbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInJlZ2lzdHJhdGlvbkluZm9ybWF0aW9uIiwiTWVzc2FnZVJlc3BvbnNlRnJvbUhvbWVQYWdlIiwiZmlyc3RfbmFtZSIsInBob25lX251bWJlciIsImluc2VydE1lc3NhZ2UiLCJjb25maWciLCJzbXMiLCJUd2lsaW8iLCJUV0lMSU9fU0lEIiwiVFdJTElPX0FVVEhLRVkiLCJNZXNzYWdpbmdSZXNwb25zZSIsInR3aW1sIiwibmFtZSIsInRvIiwibWFwIiwiaSIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJmcm9tIiwiVFdJTElPX1BIT05FIiwic2hvcnRlblVybHMiLCJteXNxbEFjY2VzcyIsIm15c3FsIiwiY3JlYXRlUG9vbCIsIk1ZU1FMX1VTRVIiLCJNWVNRTF9QQVNTV09SRCIsImhvc3QiLCJNWVNRTF9IT1NUIiwiZGF0YWJhc2UiLCJEQl9OQU1FIiwicG9ydCIsIlF1ZXJ5IiwicXVlcnkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVyciIsInJlc3VsdHMiLCJnZXRDbGllbnRJbmZvcm1hdGlvbiIsImluZm8iLCJzdG9yZSIsInNlbGVjdFN0b3JlIiwiZ2V0UGhvbmVOdW1iZXJzIiwidmVyaWZ5SW5mb3JtYXRpb24iLCJlbWFpbHMiLCJ1cGRhdGVCZWFyZXJUb2tlbiIsImJlYXJlcl90b2tlbiIsInZpZXdNZXNzYWdlcyIsInBhc3Nwb3J0IiwidXNlIiwiZG9uZSIsImVycm9yIiwic2NvcGUiLCJ1c2VybmFtZUZpZWxkIiwicGFzc3dvcmRGaWVsZCIsImNvbXBhcmVTeW5jIiwibWVzc2FnZSIsInNlcmlhbGl6ZVVzZXIiLCJkYXRlX3RpbWUiLCJ0ZXJtc19vZl9zZXJ2aWNlIiwicHJpdmFjeV9wb2xpY3kiLCJuZXh0VGljayIsImxhc3RfbmFtZSIsImJ1c2luZXNzX25hbWUiLCJhY2NvdW50X3R5cGUiLCJkZXNlcmlhbGl6ZVVzZXIiLCJhdXRoZW50aWNhdGUiLCJsb2dJbiIsInNlbmRTdGF0dXMiLCJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiYXBwIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImNvcnMiLCJzZXQiLCJjb29raWVwYXJzZXIiLCJzZXNzaW9uIiwic2VjcmV0IiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJzZWN1cmUiLCJpbml0aWFsaXplIiwic3RhdGljIiwicmVkaXJlY3QiLCJzZW5kRmlsZSIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiIifQ==